parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"or4r":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"WEtf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}},e=r;exports.default=e;
},{}],"hZBy":[function(require,module,exports) {
"use strict";function e(e){return r(e)||n(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function o(e){return document.querySelector(e)}function s(t){return e((arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(t))}function c(t,n){return e(t.querySelectorAll(n))}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)".concat(t.split(" ").join("|"),"(\\b|$)"),"gi")," ")}function l(e,t){e.classList?e.classList.add(t):e.className="".concat(e.className," ").concat(t)}function i(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )".concat(t,"( |$)"),"gi").test(e.className)}function u(e,t){t=t||0;var n=e.getBoundingClientRect().top+t,r=(window.pageYOffset||document.documentElement.scrollTop)+n;window.scrollTo(0,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.select=o,exports.selectAll=s,exports.find=c,exports.removeClass=a,exports.addClass=l,exports.hasClass=i,exports.jumpTo=u;
},{}],"U9xJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./dom");function t(){(0,e.selectAll)("[target='_blank']").forEach(function(e){return e.setAttribute("rel","noopener")})}
},{"./dom":"hZBy"}],"xZJw":[function(require,module,exports) {
"use strict";function t(t){return new Promise(function(e,n){var r=t.split(".").pop();"csv"===r?d3.csv("assets/data/".concat(t)).then(e).catch(n):"json"===r?d3.json("assets/data/".concat(t)).then(e).catch(n):n(new Error("unsupported file type for: ".concat(t)))})}function e(e){if("string"==typeof e)return t(e);var n=e.map(t);return Promise.all(n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"RZIL":[function(require,module,exports) {
var define;
var e;!function(n){"function"==typeof e&&e.amd?e(n):"undefined"!=typeof module&&module.exports?module.exports=n():window.enterView=n.call(this)}(function(){return function(e){function n(){var e=document.documentElement.clientHeight,n=window.innerHeight||0;A=Math.max(e,n)}function t(){x=!1;var e=function(){if(w&&"number"==typeof w){var e=Math.min(Math.max(0,w),1);return A-e*A}return A}();(y=y.filter(function(n){var t=n.getBoundingClientRect(),o=t.top,r=t.bottom,i=t.height,s=o<e,u=r<e;if(s&&!n.__ev_entered){if(_(n),n.__ev_progress=0,l(n,n.__ev_progress),p)return!1}else!s&&n.__ev_entered&&(n.__ev_progress=0,l(n,n.__ev_progress),f(n));if(s&&!u){var d=(e-o)/i;n.__ev_progress=Math.min(1,Math.max(0,d)),l(n,n.__ev_progress)}return s&&u&&1!==n.__ev_progress&&(n.__ev_progress=1,l(n,n.__ev_progress)),n.__ev_entered=s,!0})).length||window.removeEventListener("scroll",o,!0)}function o(){x||(x=!0,h(t))}function r(){n(),t()}function i(){n(),t()}function s(e){for(var n=e.length,t=[],o=0;o<n;o+=1)t.push(e[o]);return t}function u(){y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?s(n.querySelectorAll(e)):e instanceof NodeList?s(e):e instanceof Array?e:void 0}(d)}var d=e.selector,a=e.enter,_=void 0===a?function(){}:a,c=e.exit,f=void 0===c?function(){}:c,v=e.progress,l=void 0===v?function(){}:v,m=e.offset,w=void 0===m?0:m,g=e.once,p=void 0!==g&&g,h=null,x=!1,y=[],A=0;d?(u(),y&&y.length?(h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},window.addEventListener("resize",r,!0),window.addEventListener("scroll",o,!0),window.addEventListener("load",i,!0),r(),t()):console.error("no selector elements found")):console.error("must pass a selector")}});
},{}],"NFDY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.xhtml=void 0;var t="http://www.w3.org/1999/xhtml";exports.xhtml=t;var w={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};exports.default=w;
},{}],"wrx0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./namespaces"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=r+="",s=t.indexOf(":");return s>=0&&"xmlns"!==(t=r.slice(0,s))&&(r=r.slice(s+1)),e.default.hasOwnProperty(t)?{space:e.default[t],local:r}:r}
},{"./namespaces":"NFDY"}],"D3IX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=n(require("./namespace")),t=require("./namespaces");function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===t.xhtml&&n.documentElement.namespaceURI===t.xhtml?n.createElement(e):n.createElementNS(r,e)}}function u(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a(t){var n=(0,e.default)(t);return(n.local?u:r)(n)}
},{"./namespace":"wrx0","./namespaces":"NFDY"}],"bwOL":[function(require,module,exports) {
"use strict";function e(){}function t(t){return null==t?e:function(){return this.querySelector(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"IwPU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_;var e=require("./index"),t=r(require("../selector"));function r(e){return e&&e.__esModule?e:{default:e}}function _(r){"function"!=typeof r&&(r=(0,t.default)(r));for(var _=this._groups,a=_.length,n=new Array(a),u=0;u<a;++u)for(var o,i,l=_[u],d=l.length,s=n[u]=new Array(d),f=0;f<d;++f)(o=l[f])&&(i=r.call(o,o.__data__,f,l))&&("__data__"in o&&(i.__data__=o.__data__),s[f]=i);return new e.Selection(n,this._parents)}
},{"./index":"oe3w","../selector":"bwOL"}],"oYet":[function(require,module,exports) {
"use strict";function e(){return[]}function t(t){return null==t?e:function(){return this.querySelectorAll(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"bjvn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("./index"),t=r(require("../selectorAll"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){"function"!=typeof r&&(r=(0,t.default)(r));for(var u=this._groups,l=u.length,n=[],o=[],s=0;s<l;++s)for(var a,f=u[s],i=f.length,_=0;_<i;++_)(a=f[_])&&(n.push(r.call(a,a.__data__,_,f)),o.push(a));return new e.Selection(n,o)}
},{"./index":"oe3w","../selectorAll":"oYet"}],"kwrb":[function(require,module,exports) {
"use strict";function e(e){return function(){return this.matches(e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"y0aJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("./index"),r=t(require("../matcher"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t){"function"!=typeof t&&(t=(0,r.default)(t));for(var n=this._groups,u=n.length,a=new Array(u),o=0;o<u;++o)for(var i,l=n[o],s=l.length,f=a[o]=[],_=0;_<s;++_)(i=l[_])&&t.call(i,i.__data__,_,l)&&f.push(i);return new e.Selection(a,this._parents)}
},{"./index":"oe3w","../matcher":"kwrb"}],"afET":[function(require,module,exports) {
"use strict";function e(e){return new Array(e.length)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"N2hD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n,exports.EnterNode=o;var e=r(require("./sparse")),t=require("./index");function r(e){return e&&e.__esModule?e:{default:e}}function n(){return new t.Selection(this._enter||this._groups.map(e.default),this._parents)}function o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}o.prototype={constructor:o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};
},{"./sparse":"afET","./index":"oe3w"}],"gEzS":[function(require,module,exports) {
"use strict";function e(e){return function(){return e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"GAT4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=require("./index"),r=require("./enter"),n=t(require("../constant"));function t(e){return e&&e.__esModule?e:{default:e}}var a="$";function o(e,n,t,a,o,_){for(var l,i=0,u=n.length,f=_.length;i<f;++i)(l=n[i])?(l.__data__=_[i],a[i]=l):t[i]=new r.EnterNode(e,_[i]);for(;i<u;++i)(l=n[i])&&(o[i]=l)}function _(e,n,t,o,_,l,i){var u,f,c,s={},d=n.length,h=l.length,w=new Array(d);for(u=0;u<d;++u)(f=n[u])&&(w[u]=c=a+i.call(f,f.__data__,u,n),c in s?_[u]=f:s[c]=f);for(u=0;u<h;++u)(f=s[c=a+i.call(e,l[u],u,l)])?(o[u]=f,f.__data__=l[u],s[c]=null):t[u]=new r.EnterNode(e,l[u]);for(u=0;u<d;++u)(f=n[u])&&s[w[u]]===f&&(_[u]=f)}function l(r,t){if(!r)return v=new Array(this.size()),d=-1,this.each(function(e){v[++d]=e}),v;var a=t?_:o,l=this._parents,i=this._groups;"function"!=typeof r&&(r=(0,n.default)(r));for(var u=i.length,f=new Array(u),c=new Array(u),s=new Array(u),d=0;d<u;++d){var h=l[d],w=i[d],y=w.length,v=r.call(h,h&&h.__data__,d,l),g=v.length,A=c[d]=new Array(g),p=f[d]=new Array(g);a(h,w,A,p,s[d]=new Array(y),v,t);for(var x,q,E=0,M=0;E<g;++E)if(x=A[E]){for(E>=M&&(M=E+1);!(q=p[M])&&++M<g;);x._next=q||null}}return(f=new e.Selection(f,l))._enter=c,f._exit=s,f}
},{"./index":"oe3w","./enter":"N2hD","../constant":"gEzS"}],"fNDR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./sparse")),t=require("./index");function r(e){return e&&e.__esModule?e:{default:e}}function u(){return new t.Selection(this._exit||this._groups.map(e.default),this._parents)}
},{"./sparse":"afET","./index":"oe3w"}],"synl":[function(require,module,exports) {
"use strict";function e(e,t,r){var n=this.enter(),o=this,u=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(o=t(o)),null==r?u.remove():r(u),n&&o?n.merge(o).order():o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"KqfA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./index");function r(r){for(var t=this._groups,n=r._groups,o=t.length,s=n.length,a=Math.min(o,s),i=new Array(o),u=0;u<a;++u)for(var l,f=t[u],h=n[u],p=f.length,g=i[u]=new Array(p),_=0;_<p;++_)(l=f[_]||h[_])&&(g[_]=l);for(;u<o;++u)i[u]=t[u];return new e.Selection(i,this._parents)}
},{"./index":"oe3w"}],"FHJX":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var o,n=e[t],s=n.length-1,i=n[s];--s>=0;)(o=n[s])&&(i&&4^o.compareDocumentPosition(i)&&i.parentNode.insertBefore(o,i),i=o);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"GGTO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var r=require("./index");function e(e){function n(r,t){return r&&t?e(r.__data__,t.__data__):!r-!t}e||(e=t);for(var a=this._groups,o=a.length,u=new Array(o),_=0;_<o;++_){for(var i,s=a[_],d=s.length,f=u[_]=new Array(d),c=0;c<d;++c)(i=s[c])&&(f[c]=i);f.sort(n)}return new r.Selection(u,this._parents).order()}function t(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}
},{"./index":"oe3w"}],"qdoX":[function(require,module,exports) {
"use strict";function e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ViGZ":[function(require,module,exports) {
"use strict";function e(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"DBCy":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var u=e[r],n=0,o=u.length;n<o;++n){var l=u[n];if(l)return l}return null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"hug2":[function(require,module,exports) {
"use strict";function e(){var e=0;return this.each(function(){++e}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"NAJg":[function(require,module,exports) {
"use strict";function e(){return!this.node()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Jxky":[function(require,module,exports) {
"use strict";function e(e){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var s,a=t[r],l=0,u=a.length;l<u;++l)(s=a[l])&&e.call(s,s.__data__,l,a);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"E6BZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var t=e(require("../namespace"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return function(){this.removeAttribute(t)}}function u(t){return function(){this.removeAttributeNS(t.space,t.local)}}function r(t,e){return function(){this.setAttribute(t,e)}}function i(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function o(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function c(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function l(e,l){var a=(0,t.default)(e);if(arguments.length<2){var s=this.node();return a.local?s.getAttributeNS(a.space,a.local):s.getAttribute(a)}return this.each((null==l?a.local?u:n:"function"==typeof l?a.local?c:o:a.local?i:r)(a,l))}
},{"../namespace":"wrx0"}],"pn2q":[function(require,module,exports) {
"use strict";function e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"AGRK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o,exports.styleValue=l;var e=t(require("../window"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){this.style.removeProperty(e)}}function n(e,t,r){return function(){this.style.setProperty(e,t,r)}}function u(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function o(e,t,o){return arguments.length>1?this.each((null==t?r:"function"==typeof t?u:n)(e,t,null==o?"":o)):l(this.node(),e)}function l(t,r){return t.style.getPropertyValue(r)||(0,e.default)(t).getComputedStyle(t,null).getPropertyValue(r)}
},{"../window":"pn2q"}],"jrU7":[function(require,module,exports) {
"use strict";function t(t){return function(){delete this[t]}}function e(t,e){return function(){this[t]=e}}function n(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function u(u,i){return arguments.length>1?this.each((null==i?t:"function"==typeof i?n:e)(u,i)):this.node()[u]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;
},{}],"ag1n":[function(require,module,exports) {
"use strict";function t(t){return t.trim().split(/^|\s+/)}function n(t){return t.classList||new e(t)}function e(n){this._node=n,this._names=t(n.getAttribute("class")||"")}function i(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.add(e[s])}function s(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.remove(e[s])}function r(t){return function(){i(this,t)}}function o(t){return function(){s(this,t)}}function u(t,n){return function(){(n.apply(this,arguments)?i:s)(this,t)}}function f(e,i){var s=t(e+"");if(arguments.length<2){for(var f=n(this.node()),c=-1,a=s.length;++c<a;)if(!f.contains(s[c]))return!1;return!0}return this.each(("function"==typeof i?u:i?r:o)(s,i))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f,e.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};
},{}],"FTpZ":[function(require,module,exports) {
"use strict";function t(){this.textContent=""}function n(t){return function(){this.textContent=t}}function e(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function o(o){return arguments.length?this.each(null==o?t:("function"==typeof o?e:n)(o)):this.node().textContent}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;
},{}],"hz0j":[function(require,module,exports) {
"use strict";function n(){this.innerHTML=""}function t(n){return function(){this.innerHTML=n}}function e(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function i(i){return arguments.length?this.each(null==i?n:("function"==typeof i?e:t)(i)):this.node().innerHTML}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;
},{}],"Xl35":[function(require,module,exports) {
"use strict";function e(){this.nextSibling&&this.parentNode.appendChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"qc1g":[function(require,module,exports) {
"use strict";function e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"Srrd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../creator"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r="function"==typeof t?t:(0,e.default)(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}
},{"../creator":"D3IX"}],"hMjG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=r(require("../creator")),t=r(require("../selector"));function r(e){return e&&e.__esModule?e:{default:e}}function u(){return null}function n(r,n){var l="function"==typeof r?r:(0,e.default)(r),o=null==n?u:"function"==typeof n?n:(0,t.default)(n);return this.select(function(){return this.insertBefore(l.apply(this,arguments),o.apply(this,arguments)||null)})}
},{"../creator":"D3IX","../selector":"bwOL"}],"kGGH":[function(require,module,exports) {
"use strict";function e(){var e=this.parentNode;e&&e.removeChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"lWiw":[function(require,module,exports) {
"use strict";function e(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function t(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function n(n){return this.select(n?t:e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;
},{}],"zRa9":[function(require,module,exports) {
"use strict";function e(e){return arguments.length?this.property("__data__",e):this.node().__data__}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"kEA6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a,exports.customEvent=p,exports.event=void 0;var e={},t=null;if(exports.event=t,"undefined"!=typeof document){var n=document.documentElement;"onmouseenter"in n||(e={mouseenter:"mouseover",mouseleave:"mouseout"})}function r(e,t,n){return e=i(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function i(e,n,r){return function(i){var o=t;exports.event=t=i;try{e.call(this,this.__data__,n,r)}finally{exports.event=t=o}}}function o(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function s(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function u(t,n,o){var s=e.hasOwnProperty(t.type)?r:i;return function(e,r,i){var u,a=this.__on,p=s(n,r,i);if(a)for(var l=0,v=a.length;l<v;++l)if((u=a[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=p,u.capture=o),void(u.value=n);this.addEventListener(t.type,p,o),u={type:t.type,name:t.name,value:n,listener:p,capture:o},a?a.push(u):this.__on=[u]}}function a(e,t,n){var r,i,a=o(e+""),p=a.length;if(!(arguments.length<2)){for(l=t?u:s,null==n&&(n=!1),r=0;r<p;++r)this.each(l(a[r],t,n));return this}var l=this.node().__on;if(l)for(var v,f=0,c=l.length;f<c;++f)for(r=0,v=l[f];r<p;++r)if((i=a[r]).type===v.type&&i.name===v.name)return v.value}function p(e,n,r,i){var o=t;e.sourceEvent=t,exports.event=t=e;try{return n.apply(r,i)}finally{exports.event=t=o}}
},{}],"ApDp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var t=e(require("../window"));function e(t){return t&&t.__esModule?t:{default:t}}function n(e,n,u){var i=(0,t.default)(e),r=i.CustomEvent;"function"==typeof r?r=new r(n,u):(r=i.document.createEvent("Event"),u?(r.initEvent(n,u.bubbles,u.cancelable),r.detail=u.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function u(t,e){return function(){return n(this,t,e)}}function i(t,e){return function(){return n(this,t,e.apply(this,arguments))}}function r(t,e){return this.each(("function"==typeof e?i:u)(t,e))}
},{"../window":"pn2q"}],"oe3w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Selection=B,exports.default=exports.root=void 0;var e=S(require("./select")),r=S(require("./selectAll")),t=S(require("./filter")),u=S(require("./data")),l=S(require("./enter")),a=S(require("./exit")),d=S(require("./join")),i=S(require("./merge")),o=S(require("./order")),f=S(require("./sort")),s=S(require("./call")),n=S(require("./nodes")),q=S(require("./node")),p=S(require("./size")),c=S(require("./empty")),m=S(require("./each")),x=S(require("./attr")),y=S(require("./style")),h=S(require("./property")),v=S(require("./classed")),_=S(require("./text")),g=S(require("./html")),j=S(require("./raise")),w=S(require("./lower")),z=S(require("./append")),A=S(require("./insert")),M=S(require("./remove")),b=S(require("./clone")),E=S(require("./datum")),O=S(require("./on")),P=S(require("./dispatch"));function S(e){return e&&e.__esModule?e:{default:e}}var k=[null];function B(e,r){this._groups=e,this._parents=r}function C(){return new B([[document.documentElement]],k)}exports.root=k,B.prototype=C.prototype={constructor:B,select:e.default,selectAll:r.default,filter:t.default,data:u.default,enter:l.default,exit:a.default,join:d.default,merge:i.default,order:o.default,sort:f.default,call:s.default,nodes:n.default,node:q.default,size:p.default,empty:c.default,each:m.default,attr:x.default,style:y.default,property:h.default,classed:v.default,text:_.default,html:g.default,raise:j.default,lower:w.default,append:z.default,insert:A.default,remove:M.default,clone:b.default,datum:E.default,on:O.default,dispatch:P.default};var D=C;exports.default=D;
},{"./select":"IwPU","./selectAll":"bjvn","./filter":"y0aJ","./data":"GAT4","./enter":"N2hD","./exit":"fNDR","./join":"synl","./merge":"KqfA","./order":"FHJX","./sort":"GGTO","./call":"qdoX","./nodes":"ViGZ","./node":"DBCy","./size":"hug2","./empty":"NAJg","./each":"Jxky","./attr":"E6BZ","./style":"AGRK","./property":"jrU7","./classed":"ag1n","./text":"FTpZ","./html":"hz0j","./raise":"Xl35","./lower":"qc1g","./append":"Srrd","./insert":"hMjG","./remove":"kGGH","./clone":"lWiw","./datum":"zRa9","./on":"kEA6","./dispatch":"ApDp"}],"HVYU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./selection/index");function t(t){return"string"==typeof t?new e.Selection([[document.querySelector(t)]],[document.documentElement]):new e.Selection([[t]],e.root)}
},{"./selection/index":"oe3w"}],"j1WN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./creator")),t=r(require("./select"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return(0,t.default)((0,e.default)(r).call(document.documentElement))}
},{"./creator":"D3IX","./select":"HVYU"}],"q5jD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=0;function e(){return new r}function r(){this._="@"+(++t).toString(36)}r.prototype=e.prototype={constructor:r,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};
},{}],"gzdY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./selection/on");function r(){for(var r,t=e.event;r=t.sourceEvent;)t=r;return t}
},{"./selection/on":"kEA6"}],"E2Rp":[function(require,module,exports) {
"use strict";function e(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Q3fL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./sourceEvent")),u=r(require("./point"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=(0,e.default)();return t.changedTouches&&(t=t.changedTouches[0]),(0,u.default)(r,t)}
},{"./sourceEvent":"gzdY","./point":"E2Rp"}],"HEGK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./selection/index");function t(t){return"string"==typeof t?new e.Selection([document.querySelectorAll(t)],[document.documentElement]):new e.Selection([null==t?[]:t],e.root)}
},{"./selection/index":"oe3w"}],"pdFn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./sourceEvent")),r=t(require("./point"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u,n){arguments.length<3&&(n=u,u=(0,e.default)().changedTouches);for(var i,l=0,o=u?u.length:0;l<o;++l)if((i=u[l]).identifier===n)return(0,r.default)(t,i);return null}
},{"./sourceEvent":"gzdY","./point":"E2Rp"}],"EGNV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./sourceEvent")),r=t(require("./point"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){null==u&&(u=(0,e.default)().touches);for(var n=0,o=u?u.length:0,l=new Array(o);n<o;++n)l[n]=(0,r.default)(t,u[n]);return l}
},{"./sourceEvent":"gzdY","./point":"E2Rp"}],"Zd0B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"create",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"creator",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"local",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"matcher",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"mouse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"namespace",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"namespaces",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"clientPoint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"select",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"selectAll",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"selection",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"selector",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"selectorAll",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"style",{enumerable:!0,get:function(){return d.styleValue}}),Object.defineProperty(exports,"touch",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"touches",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"window",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"event",{enumerable:!0,get:function(){return x.event}}),Object.defineProperty(exports,"customEvent",{enumerable:!0,get:function(){return x.customEvent}});var e=P(require("./create")),t=P(require("./creator")),r=P(require("./local")),n=P(require("./matcher")),u=P(require("./mouse")),o=P(require("./namespace")),c=P(require("./namespaces")),i=P(require("./point")),l=P(require("./select")),f=P(require("./selectAll")),a=P(require("./selection/index")),s=P(require("./selector")),p=P(require("./selectorAll")),d=require("./selection/style"),b=P(require("./touch")),m=P(require("./touches")),y=P(require("./window")),x=require("./selection/on");function P(e){return e&&e.__esModule?e:{default:e}}
},{"./create":"j1WN","./creator":"D3IX","./local":"q5jD","./matcher":"kwrb","./mouse":"Q3fL","./namespace":"wrx0","./namespaces":"NFDY","./point":"E2Rp","./select":"HVYU","./selectAll":"HEGK","./selection/index":"oe3w","./selector":"bwOL","./selectorAll":"oYet","./selection/style":"AGRK","./touch":"pdFn","./touches":"EGNV","./window":"pn2q","./selection/on":"kEA6"}],"pnOO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n={value:function(){}};function r(){for(var n,r=0,t=arguments.length,o={};r<t;++r){if(!(n=arguments[r]+"")||n in o)throw new Error("illegal type: "+n);o[n]=[]}return new e(o)}function e(n){this._=n}function t(n,r){return n.trim().split(/^|\s+/).map(function(n){var e="",t=n.indexOf(".");if(t>=0&&(e=n.slice(t+1),n=n.slice(0,t)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:e}})}function o(n,r){for(var e,t=0,o=n.length;t<o;++t)if((e=n[t]).name===r)return e.value}function i(r,e,t){for(var o=0,i=r.length;o<i;++o)if(r[o].name===e){r[o]=n,r=r.slice(0,o).concat(r.slice(o+1));break}return null!=t&&r.push({name:e,value:t}),r}e.prototype=r.prototype={constructor:e,on:function(n,r){var e,l=this._,a=t(n+"",l),f=-1,u=a.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++f<u;)if(e=(n=a[f]).type)l[e]=i(l[e],n.name,r);else if(null==r)for(e in l)l[e]=i(l[e],n.name,null);return this}for(;++f<u;)if((e=(n=a[f]).type)&&(e=o(l[e],n.name)))return e},copy:function(){var n={},r=this._;for(var t in r)n[t]=r[t].slice();return new e(n)},call:function(n,r){if((e=arguments.length-2)>0)for(var e,t,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,e=(t=this._[n]).length;i<e;++i)t[i].value.apply(r,o)},apply:function(n,r,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var t=this._[n],o=0,i=t.length;o<i;++o)t[o].value.apply(r,e)}};var l=r;exports.default=l;
},{}],"UiFk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"dispatch",{enumerable:!0,get:function(){return e.default}});var e=t(require("./src/dispatch"));function t(e){return e&&e.__esModule?e:{default:e}}
},{"./src/dispatch":"pnOO"}],"SsXf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nopropagation=t,exports.default=o;var e=require("d3-selection");function t(){e.event.stopImmediatePropagation()}function o(){e.event.preventDefault(),e.event.stopImmediatePropagation()}
},{"d3-selection":"Zd0B"}],"UkOI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l,exports.yesdrag=r;var e=require("d3-selection"),t=n(require("./noevent"));function n(e){return e&&e.__esModule?e:{default:e}}function l(n){var l=n.document.documentElement,r=(0,e.select)(n).on("dragstart.drag",t.default,!0);"onselectstart"in l?r.on("selectstart.drag",t.default,!0):(l.__noselect=l.style.MozUserSelect,l.style.MozUserSelect="none")}function r(n,l){var r=n.document.documentElement,o=(0,e.select)(n).on("dragstart.drag",null);l&&(o.on("click.drag",t.default,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}
},{"d3-selection":"Zd0B","./noevent":"SsXf"}],"wq7q":[function(require,module,exports) {
"use strict";function t(t,i,s,e,h,r,o,n,p,u){this.target=t,this.type=i,this.subject=s,this.identifier=e,this.active=h,this.x=r,this.y=o,this.dx=n,this.dy=p,this._=u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,t.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};
},{}],"ZFJT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=p;var e=require("d3-dispatch"),t=require("d3-selection"),n=c(require("./nodrag")),r=c(require("./noevent")),o=i(require("./constant")),u=i(require("./event"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function c(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=r?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}}return n.default=e,t&&t.set(e,n),n}function f(){return!t.event.button}function l(){return this.parentNode}function s(e){return null==e?{x:t.event.x,y:t.event.y}:e}function d(){return"ontouchstart"in this}function p(){var i,a,c,p,v=f,h=l,g=s,y=d,m={},b=(0,e.dispatch)("start","drag","end"),w=0,O=0;function j(e){e.on("mousedown.drag",q).filter(y).on("touchstart.drag",_).on("touchmove.drag",k).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function q(){if(!p&&v.apply(this,arguments)){var e=T("mouse",h.apply(this,arguments),t.mouse,this,arguments);e&&((0,t.select)(t.event.view).on("mousemove.drag",M,!0).on("mouseup.drag",P,!0),(0,n.default)(t.event.view),(0,r.nopropagation)(),c=!1,i=t.event.clientX,a=t.event.clientY,e("start"))}}function M(){if((0,r.default)(),!c){var e=t.event.clientX-i,n=t.event.clientY-a;c=e*e+n*n>O}m.mouse("drag")}function P(){(0,t.select)(t.event.view).on("mousemove.drag mouseup.drag",null),(0,n.yesdrag)(t.event.view,c),(0,r.default)(),m.mouse("end")}function _(){if(v.apply(this,arguments)){var e,n,o=t.event.changedTouches,u=h.apply(this,arguments),i=o.length;for(e=0;e<i;++e)(n=T(o[e].identifier,u,t.touch,this,arguments))&&((0,r.nopropagation)(),n("start"))}}function k(){var e,n,o=t.event.changedTouches,u=o.length;for(e=0;e<u;++e)(n=m[o[e].identifier])&&((0,r.default)(),n("drag"))}function x(){var e,n,o=t.event.changedTouches,u=o.length;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),e=0;e<u;++e)(n=m[o[e].identifier])&&((0,r.nopropagation)(),n("end"))}function T(e,n,r,o,i){var a,c,f,l=r(n,e),s=b.copy();if((0,t.customEvent)(new u.default(j,"beforestart",a,e,w,l[0],l[1],0,0,s),function(){return null!=(t.event.subject=a=g.apply(o,i))&&(c=a.x-l[0]||0,f=a.y-l[1]||0,!0)}))return function d(p){var v,h=l;switch(p){case"start":m[e]=d,v=w++;break;case"end":delete m[e],--w;case"drag":l=r(n,e),v=w}(0,t.customEvent)(new u.default(j,p,a,e,v,l[0]+c,l[1]+f,l[0]-h[0],l[1]-h[1],s),s.apply,s,[p,o,i])}}return j.filter=function(e){return arguments.length?(v="function"==typeof e?e:(0,o.default)(!!e),j):v},j.container=function(e){return arguments.length?(h="function"==typeof e?e:(0,o.default)(e),j):h},j.subject=function(e){return arguments.length?(g="function"==typeof e?e:(0,o.default)(e),j):g},j.touchable=function(e){return arguments.length?(y="function"==typeof e?e:(0,o.default)(!!e),j):y},j.on=function(){var e=b.on.apply(b,arguments);return e===b?j:e},j.clickDistance=function(e){return arguments.length?(O=(e=+e)*e,j):Math.sqrt(O)},j}
},{"d3-dispatch":"UiFk","d3-selection":"Zd0B","./nodrag":"UkOI","./noevent":"SsXf","./constant":"gEzS","./event":"wq7q"}],"TTSn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"drag",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"dragDisable",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"dragEnable",{enumerable:!0,get:function(){return r.yesdrag}});var e=u(require("./drag")),r=n(require("./nodrag"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function n(e){if(e&&e.__esModule)return e;var r=t();if(r&&r.has(e))return r.get(e);var n={};if(null!=e){var u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=u?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}}return n.default=e,r&&r.set(e,n),n}function u(e){return e&&e.__esModule?e:{default:e}}
},{"./drag":"ZFJT","./nodrag":"UkOI"}],"hCwf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=Math.PI,i=2*t,s=1e-6,h=i-s;function _(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new _}_.prototype=n.prototype={constructor:_,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,s,h){this._+="Q"+ +t+","+ +i+","+(this._x1=+s)+","+(this._y1=+h)},bezierCurveTo:function(t,i,s,h,_,n){this._+="C"+ +t+","+ +i+","+ +s+","+ +h+","+(this._x1=+_)+","+(this._y1=+n)},arcTo:function(i,h,_,n,e){i=+i,h=+h,_=+_,n=+n,e=+e;var r=this._x1,o=this._y1,a=_-i,u=n-h,x=r-i,c=o-h,y=x*x+c*c;if(e<0)throw new Error("negative radius: "+e);if(null===this._x1)this._+="M"+(this._x1=i)+","+(this._y1=h);else if(y>s)if(Math.abs(c*a-u*x)>s&&e){var f=_-r,M=n-o,l=a*a+u*u,v=f*f+M*M,d=Math.sqrt(l),p=Math.sqrt(y),b=e*Math.tan((t-Math.acos((l+y-v)/(2*d*p)))/2),w=b/p,T=b/d;Math.abs(w-1)>s&&(this._+="L"+(i+w*x)+","+(h+w*c)),this._+="A"+e+","+e+",0,0,"+ +(c*f>x*M)+","+(this._x1=i+T*a)+","+(this._y1=h+T*u)}else this._+="L"+(this._x1=i)+","+(this._y1=h);else;},arc:function(_,n,e,r,o,a){_=+_,n=+n;var u=(e=+e)*Math.cos(r),x=e*Math.sin(r),c=_+u,y=n+x,f=1^a,M=a?r-o:o-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+y:(Math.abs(this._x1-c)>s||Math.abs(this._y1-y)>s)&&(this._+="L"+c+","+y),e&&(M<0&&(M=M%i+i),M>h?this._+="A"+e+","+e+",0,1,"+f+","+(_-u)+","+(n-x)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=y):M>s&&(this._+="A"+e+","+e+",0,"+ +(M>=t)+","+f+","+(this._x1=_+e*Math.cos(o))+","+(this._y1=n+e*Math.sin(o))))},rect:function(t,i,s,h){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +s+"v"+ +h+"h"+-s+"Z"},toString:function(){return this._}};var e=n;exports.default=e;
},{}],"nwhr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"path",{enumerable:!0,get:function(){return e.default}});var e=t(require("./src/path"));function t(e){return e&&e.__esModule?e:{default:e}}
},{"./src/path":"hCwf"}],"QkCX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tau=exports.halfPi=exports.pi=exports.epsilon=void 0;var e=1e-12;exports.epsilon=e;var r=Math.PI;exports.pi=r;var t=r/2;exports.halfPi=t;var o=2*r;exports.tau=o;
},{}],"o1j5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var t=require("d3-path"),n=e(require("./constant")),a=require("./math");function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.innerRadius}function r(t){return t.outerRadius}function o(t){return t.startAngle}function u(t){return t.endAngle}function c(t){return t&&t.padAngle}function l(t){return t>=1?a.halfPi:t<=-1?-a.halfPi:Math.asin(t)}function h(t,n,a,e,i,r,o,u){var c=a-t,l=e-n,h=o-i,s=u-r,f=(h*(n-r)-s*(t-i))/(s*c-h*l);return[t+f*c,n+f*l]}function s(t,n,a,e,i,r,o){var u=t-a,c=n-e,l=(o?r:-r)/Math.sqrt(u*u+c*c),h=l*c,s=-l*u,f=t+h,p=n+s,y=a+h,M=e+s,x=(f+y)/2,d=(p+M)/2,v=y-f,g=M-p,m=v*v+g*g,q=i-r,T=f*M-y*p,A=(g<0?-1:1)*Math.sqrt(Math.max(0,q*q*m-T*T)),P=(T*g-v*A)/m,R=(-T*v-g*A)/m,_=(T*g+v*A)/m,b=(-T*v+g*A)/m,j=P-x,O=R-d,k=_-x,w=b-d;return j*j+O*O>k*k+w*w&&(P=_,R=b),{cx:P,cy:R,x01:-h,y01:-s,x11:P*(i/q-1),y11:R*(i/q-1)}}function f(){var e=i,f=r,p=(0,n.default)(0),y=null,M=o,x=u,d=c,v=null;function g(){var n,i,r=+e.apply(this,arguments),o=+f.apply(this,arguments),u=M.apply(this,arguments)-a.halfPi,c=x.apply(this,arguments)-a.halfPi,g=Math.abs(c-u),m=c>u;if(v||(v=n=(0,t.path)()),o<r&&(i=o,o=r,r=i),o>a.epsilon)if(g>a.tau-a.epsilon)v.moveTo(o*Math.cos(u),o*Math.sin(u)),v.arc(0,0,o,u,c,!m),r>a.epsilon&&(v.moveTo(r*Math.cos(c),r*Math.sin(c)),v.arc(0,0,r,c,u,m));else{var q,T,A=u,P=c,R=u,_=c,b=g,j=g,O=d.apply(this,arguments)/2,k=O>a.epsilon&&(y?+y.apply(this,arguments):Math.sqrt(r*r+o*o)),w=Math.min(Math.abs(o-r)/2,+p.apply(this,arguments)),z=w,B=w;if(k>a.epsilon){var C=l(k/r*Math.sin(O)),D=l(k/o*Math.sin(O));(b-=2*C)>a.epsilon?(R+=C*=m?1:-1,_-=C):(b=0,R=_=(u+c)/2),(j-=2*D)>a.epsilon?(A+=D*=m?1:-1,P-=D):(j=0,A=P=(u+c)/2)}var E=o*Math.cos(A),F=o*Math.sin(A),G=r*Math.cos(_),H=r*Math.sin(_);if(w>a.epsilon){var I=o*Math.cos(P),J=o*Math.sin(P),K=r*Math.cos(R),L=r*Math.sin(R);if(g<a.pi){var N=b>a.epsilon?h(E,F,K,L,I,J,G,H):[G,H],Q=E-N[0],S=F-N[1],U=I-N[0],V=J-N[1],W=1/Math.sin(Math.acos((Q*U+S*V)/(Math.sqrt(Q*Q+S*S)*Math.sqrt(U*U+V*V)))/2),X=Math.sqrt(N[0]*N[0]+N[1]*N[1]);z=Math.min(w,(r-X)/(W-1)),B=Math.min(w,(o-X)/(W+1))}}j>a.epsilon?B>a.epsilon?(q=s(K,L,E,F,o,B,m),T=s(I,J,G,H,o,B,m),v.moveTo(q.cx+q.x01,q.cy+q.y01),B<w?v.arc(q.cx,q.cy,B,Math.atan2(q.y01,q.x01),Math.atan2(T.y01,T.x01),!m):(v.arc(q.cx,q.cy,B,Math.atan2(q.y01,q.x01),Math.atan2(q.y11,q.x11),!m),v.arc(0,0,o,Math.atan2(q.cy+q.y11,q.cx+q.x11),Math.atan2(T.cy+T.y11,T.cx+T.x11),!m),v.arc(T.cx,T.cy,B,Math.atan2(T.y11,T.x11),Math.atan2(T.y01,T.x01),!m))):(v.moveTo(E,F),v.arc(0,0,o,A,P,!m)):v.moveTo(E,F),r>a.epsilon&&b>a.epsilon?z>a.epsilon?(q=s(G,H,I,J,r,-z,m),T=s(E,F,K,L,r,-z,m),v.lineTo(q.cx+q.x01,q.cy+q.y01),z<w?v.arc(q.cx,q.cy,z,Math.atan2(q.y01,q.x01),Math.atan2(T.y01,T.x01),!m):(v.arc(q.cx,q.cy,z,Math.atan2(q.y01,q.x01),Math.atan2(q.y11,q.x11),!m),v.arc(0,0,r,Math.atan2(q.cy+q.y11,q.cx+q.x11),Math.atan2(T.cy+T.y11,T.cx+T.x11),m),v.arc(T.cx,T.cy,z,Math.atan2(T.y11,T.x11),Math.atan2(T.y01,T.x01),!m))):v.arc(0,0,r,_,R,m):v.lineTo(G,H)}else v.moveTo(0,0);if(v.closePath(),n)return v=null,n+""||null}return g.centroid=function(){var t=(+e.apply(this,arguments)+ +f.apply(this,arguments))/2,n=(+M.apply(this,arguments)+ +x.apply(this,arguments))/2-a.pi/2;return[Math.cos(n)*t,Math.sin(n)*t]},g.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,n.default)(+t),g):e},g.outerRadius=function(t){return arguments.length?(f="function"==typeof t?t:(0,n.default)(+t),g):f},g.cornerRadius=function(t){return arguments.length?(p="function"==typeof t?t:(0,n.default)(+t),g):p},g.padRadius=function(t){return arguments.length?(y=null==t?null:"function"==typeof t?t:(0,n.default)(+t),g):y},g.startAngle=function(t){return arguments.length?(M="function"==typeof t?t:(0,n.default)(+t),g):M},g.endAngle=function(t){return arguments.length?(x="function"==typeof t?t:(0,n.default)(+t),g):x},g.padAngle=function(t){return arguments.length?(d="function"==typeof t?t:(0,n.default)(+t),g):d},g.context=function(t){return arguments.length?(v=null==t?null:t,g):v},g}
},{"d3-path":"nwhr","./constant":"gEzS","./math":"QkCX"}],"Qb3z":[function(require,module,exports) {
"use strict";function t(t){this._context=t}function i(i){return new t(i)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i)}}};
},{}],"Ces2":[function(require,module,exports) {
"use strict";function e(e){return e[0]}function t(e){return e[1]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.x=e,exports.y=t;
},{}],"auwa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var n=require("d3-path"),e=r(require("./constant")),t=r(require("./curve/linear")),u=require("./point");function r(n){return n&&n.__esModule?n:{default:n}}function l(){var r=u.x,l=u.y,f=(0,e.default)(!0),i=null,o=t.default,c=null;function a(e){var t,u,a,d=e.length,p=!1;for(null==i&&(c=o(a=(0,n.path)())),t=0;t<=d;++t)!(t<d&&f(u=e[t],t,e))===p&&((p=!p)?c.lineStart():c.lineEnd()),p&&c.point(+r(u,t,e),+l(u,t,e));if(a)return c=null,a+""||null}return a.x=function(n){return arguments.length?(r="function"==typeof n?n:(0,e.default)(+n),a):r},a.y=function(n){return arguments.length?(l="function"==typeof n?n:(0,e.default)(+n),a):l},a.defined=function(n){return arguments.length?(f="function"==typeof n?n:(0,e.default)(!!n),a):f},a.curve=function(n){return arguments.length?(o=n,null!=i&&(c=o(i)),a):o},a.context=function(n){return arguments.length?(null==n?i=c=null:c=o(i=n),a):i},a}
},{"d3-path":"nwhr","./constant":"gEzS","./curve/linear":"Qb3z","./point":"Ces2"}],"iLNN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var n=require("d3-path"),e=r(require("./constant")),t=r(require("./curve/linear")),u=r(require("./line")),l=require("./point");function r(n){return n&&n.__esModule?n:{default:n}}function f(){var r=l.x,f=null,i=(0,e.default)(0),o=l.y,c=(0,e.default)(!0),a=null,d=t.default,y=null;function p(e){var t,u,l,p,h,x=e.length,g=!1,s=new Array(x),v=new Array(x);for(null==a&&(y=d(h=(0,n.path)())),t=0;t<=x;++t){if(!(t<x&&c(p=e[t],t,e))===g)if(g=!g)u=t,y.areaStart(),y.lineStart();else{for(y.lineEnd(),y.lineStart(),l=t-1;l>=u;--l)y.point(s[l],v[l]);y.lineEnd(),y.areaEnd()}g&&(s[t]=+r(p,t,e),v[t]=+i(p,t,e),y.point(f?+f(p,t,e):s[t],o?+o(p,t,e):v[t]))}if(h)return y=null,h+""||null}function h(){return(0,u.default)().defined(c).curve(d).context(a)}return p.x=function(n){return arguments.length?(r="function"==typeof n?n:(0,e.default)(+n),f=null,p):r},p.x0=function(n){return arguments.length?(r="function"==typeof n?n:(0,e.default)(+n),p):r},p.x1=function(n){return arguments.length?(f=null==n?null:"function"==typeof n?n:(0,e.default)(+n),p):f},p.y=function(n){return arguments.length?(i="function"==typeof n?n:(0,e.default)(+n),o=null,p):i},p.y0=function(n){return arguments.length?(i="function"==typeof n?n:(0,e.default)(+n),p):i},p.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:(0,e.default)(+n),p):o},p.lineX0=p.lineY0=function(){return h().x(r).y(i)},p.lineY1=function(){return h().x(r).y(o)},p.lineX1=function(){return h().x(f).y(i)},p.defined=function(n){return arguments.length?(c="function"==typeof n?n:(0,e.default)(!!n),p):c},p.curve=function(n){return arguments.length?(d=n,null!=a&&(y=d(a)),p):d},p.context=function(n){return arguments.length?(null==n?a=y=null:y=d(a=n),p):a},p}
},{"d3-path":"nwhr","./constant":"gEzS","./curve/linear":"Qb3z","./line":"auwa","./point":"Ces2"}],"vKd4":[function(require,module,exports) {
"use strict";function e(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"HEvu":[function(require,module,exports) {
"use strict";function e(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"GOEE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var t=r(require("./constant")),n=r(require("./descending")),e=r(require("./identity")),u=require("./math");function r(t){return t&&t.__esModule?t:{default:t}}function l(){var r=e.default,l=n.default,a=null,f=(0,t.default)(0),o=(0,t.default)(u.tau),i=(0,t.default)(0);function d(t){var n,e,d,c,s,h=t.length,p=0,g=new Array(h),y=new Array(h),A=+f.apply(this,arguments),v=Math.min(u.tau,Math.max(-u.tau,o.apply(this,arguments)-A)),M=Math.min(Math.abs(v)/h,i.apply(this,arguments)),m=M*(v<0?-1:1);for(n=0;n<h;++n)(s=y[g[n]=n]=+r(t[n],n,t))>0&&(p+=s);for(null!=l?g.sort(function(t,n){return l(y[t],y[n])}):null!=a&&g.sort(function(n,e){return a(t[n],t[e])}),n=0,d=p?(v-h*m)/p:0;n<h;++n,A=c)e=g[n],c=A+((s=y[e])>0?s*d:0)+m,y[e]={data:t[e],index:n,value:s,startAngle:A,endAngle:c,padAngle:M};return y}return d.value=function(n){return arguments.length?(r="function"==typeof n?n:(0,t.default)(+n),d):r},d.sortValues=function(t){return arguments.length?(l=t,a=null,d):l},d.sort=function(t){return arguments.length?(a=t,l=null,d):a},d.startAngle=function(n){return arguments.length?(f="function"==typeof n?n:(0,t.default)(+n),d):f},d.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:(0,t.default)(+n),d):o},d.padAngle=function(n){return arguments.length?(i="function"==typeof n?n:(0,t.default)(+n),d):i},d}
},{"./constant":"gEzS","./descending":"vKd4","./identity":"HEvu","./math":"QkCX"}],"Z3ag":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.curveRadialLinear=void 0;var e=t(require("./linear"));function t(e){return e&&e.__esModule?e:{default:e}}var r=i(e.default);function n(e){this._curve=e}function i(e){function t(t){return new n(e(t))}return t._curve=e,t}exports.curveRadialLinear=r,n.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};
},{"./linear":"Qb3z"}],"nHiQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.radialLine=a,exports.default=i;var e=u(require("./curve/radial")),r=t(require("./line"));function t(e){return e&&e.__esModule?e:{default:e}}function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function u(e){if(e&&e.__esModule)return e;var r=n();if(r&&r.has(e))return r.get(e);var t={};if(null!=e){var u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=u?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(t,a,i):t[a]=e[a]}}return t.default=e,r&&r.set(e,t),t}function a(r){var t=r.curve;return r.angle=r.x,delete r.x,r.radius=r.y,delete r.y,r.curve=function(r){return arguments.length?t((0,e.default)(r)):t()._curve},r}function i(){return a((0,r.default)().curve(e.curveRadialLinear))}
},{"./curve/radial":"Z3ag","./line":"auwa"}],"Z8Dl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=u(require("./curve/radial")),r=t(require("./area")),n=require("./radialLine");function t(e){return e&&e.__esModule?e:{default:e}}function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function u(e){if(e&&e.__esModule)return e;var r=i();if(r&&r.has(e))return r.get(e);var n={};if(null!=e){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var l=t?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}}return n.default=e,r&&r.set(e,n),n}function l(){var t=(0,r.default)().curve(e.curveRadialLinear),i=t.curve,u=t.lineX0,l=t.lineX1,a=t.lineY0,d=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return(0,n.radialLine)(u())},delete t.lineX0,t.lineEndAngle=function(){return(0,n.radialLine)(l())},delete t.lineX1,t.lineInnerRadius=function(){return(0,n.radialLine)(a())},delete t.lineY0,t.lineOuterRadius=function(){return(0,n.radialLine)(d())},delete t.lineY1,t.curve=function(r){return arguments.length?i((0,e.default)(r)):i()._curve},t}
},{"./curve/radial":"Z3ag","./area":"iLNN","./radialLine":"nHiQ"}],"OlIp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../math"),t={draw:function(t,r){var a=Math.sqrt(r/e.pi);t.moveTo(a,0),t.arc(0,0,a,0,e.tau)}};exports.default=t;
},{"../math":"QkCX"}],"Okx0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={draw:function(e,o){var l=Math.sqrt(o/5)/2;e.moveTo(-3*l,-l),e.lineTo(-l,-l),e.lineTo(-l,-3*l),e.lineTo(l,-3*l),e.lineTo(l,-l),e.lineTo(3*l,-l),e.lineTo(3*l,l),e.lineTo(l,l),e.lineTo(l,3*l),e.lineTo(-l,3*l),e.lineTo(-l,l),e.lineTo(-3*l,l),e.closePath()}};exports.default=e;
},{}],"s3x2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Math.sqrt(1/3),t=2*e,o={draw:function(o,r){var a=Math.sqrt(r/t),s=a*e;o.moveTo(0,-a),o.lineTo(s,0),o.lineTo(0,a),o.lineTo(-s,0),o.closePath()}};exports.default=o;
},{}],"agw7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../math"),a=.8908130915292852,e=Math.sin(t.pi/10)/Math.sin(7*t.pi/10),o=Math.sin(t.tau/10)*e,r=-Math.cos(t.tau/10)*e,i={draw:function(e,i){var s=Math.sqrt(i*a),n=o*s,u=r*s;e.moveTo(0,-s),e.lineTo(n,u);for(var h=1;h<5;++h){var l=t.tau*h/5,M=Math.cos(l),v=Math.sin(l);e.lineTo(v*s,-M*s),e.lineTo(M*n-v*u,v*n+M*u)}e.closePath()}};exports.default=i;
},{"../math":"QkCX"}],"kMFP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={draw:function(e,t){var r=Math.sqrt(t),a=-r/2;e.rect(a,a,r,r)}};exports.default=e;
},{}],"ThAG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Math.sqrt(3),t={draw:function(t,o){var r=-Math.sqrt(o/(3*e));t.moveTo(0,2*r),t.lineTo(-e*r,-r),t.lineTo(e*r,-r),t.closePath()}};exports.default=t;
},{}],"jXll":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=-.5,o=Math.sqrt(3)/2,t=1/Math.sqrt(12),l=3*(t/2+1),i={draw:function(i,r){var n=Math.sqrt(r/l),a=n/2,s=n*t,T=a,d=n*t+n,u=-T,v=d;i.moveTo(a,s),i.lineTo(T,d),i.lineTo(u,v),i.lineTo(e*a-o*s,o*a+e*s),i.lineTo(e*T-o*d,o*T+e*d),i.lineTo(e*u-o*v,o*u+e*v),i.lineTo(e*a+o*s,e*s-o*a),i.lineTo(e*T+o*d,e*d-o*T),i.lineTo(e*u+o*v,e*v-o*u),i.closePath()}};exports.default=i;
},{}],"sfAX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d,exports.symbols=void 0;var e=require("d3-path"),t=s(require("./symbol/circle")),r=s(require("./symbol/cross")),u=s(require("./symbol/diamond")),l=s(require("./symbol/star")),n=s(require("./symbol/square")),o=s(require("./symbol/triangle")),a=s(require("./symbol/wye")),i=s(require("./constant"));function s(e){return e&&e.__esModule?e:{default:e}}var f=[t.default,r.default,u.default,n.default,l.default,o.default,a.default];function d(){var r=(0,i.default)(t.default),u=(0,i.default)(64),l=null;function n(){var t;if(l||(l=t=(0,e.path)()),r.apply(this,arguments).draw(l,+u.apply(this,arguments)),t)return l=null,t+""||null}return n.type=function(e){return arguments.length?(r="function"==typeof e?e:(0,i.default)(e),n):r},n.size=function(e){return arguments.length?(u="function"==typeof e?e:(0,i.default)(+e),n):u},n.context=function(e){return arguments.length?(l=null==e?null:e,n):l},n}exports.symbols=f;
},{"d3-path":"nwhr","./symbol/circle":"OlIp","./symbol/cross":"Okx0","./symbol/diamond":"s3x2","./symbol/star":"agw7","./symbol/square":"kMFP","./symbol/triangle":"ThAG","./symbol/wye":"jXll","./constant":"gEzS"}],"rq1K":[function(require,module,exports) {
"use strict";function e(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"OoRj":[function(require,module,exports) {
"use strict";function t(t,i,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+s)/6)}function i(t){this._context=t}function s(t){return new i(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.point=t,exports.Basis=i,exports.default=s,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(i,s){switch(i=+i,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t(this,i,s)}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=s}};
},{}],"oBdA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_;var t=s(require("../noop")),i=require("./basis");function s(t){return t&&t.__esModule?t:{default:t}}function h(t){this._context=t}function _(t){return new h(t)}h.prototype={areaStart:t.default,areaEnd:t.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._x2=t,this._y2=s;break;case 1:this._point=2,this._x3=t,this._y3=s;break;case 2:this._point=3,this._x4=t,this._y4=s,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+s)/6);break;default:(0,i.point)(this,t,s)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s}};
},{"../noop":"rq1K","./basis":"OoRj"}],"n2TT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=require("./basis");function i(t){this._context=t}function s(t){return new i(t)}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(i,s){switch(i=+i,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+i)/6,n=(this._y0+4*this._y1+s)/6;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 3:this._point=4;default:(0,t.point)(this,i,s)}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=s}};
},{"./basis":"OoRj"}],"V0HS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./basis");function i(i,s){this._basis=new t.Basis(i),this._beta=s}i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,i=this._y,s=t.length-1;if(s>0)for(var e,n=t[0],a=i[0],r=t[s]-n,h=i[s]-a,u=-1;++u<=s;)e=u/s,this._basis.point(this._beta*t[u]+(1-this._beta)*(n+e*r),this._beta*i[u]+(1-this._beta)*(a+e*h));this._x=this._y=null,this._basis.lineEnd()},point:function(t,i){this._x.push(+t),this._y.push(+i)}};var s=function s(e){function n(s){return 1===e?new t.Basis(s):new i(s,e)}return n.beta=function(t){return s(+t)},n}(.85);exports.default=s;
},{"./basis":"OoRj"}],"ybaA":[function(require,module,exports) {
"use strict";function t(t,i,s){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-s),t._x2,t._y2)}function i(t,i){this._context=t,this._k=(1-i)/6}Object.defineProperty(exports,"__esModule",{value:!0}),exports.point=t,exports.Cardinal=i,exports.default=void 0,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:t(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(i,s){switch(i=+i,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 1:this._point=2,this._x1=i,this._y1=s;break;case 2:this._point=3;default:t(this,i,s)}this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=s}};var s=function t(s){function _(t){return new i(t,s)}return _.tension=function(i){return t(+i)},_}(0);exports.default=s;
},{}],"sVQZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CardinalClosed=h,exports.default=void 0;var t=s(require("../noop")),i=require("./cardinal");function s(t){return t&&t.__esModule?t:{default:t}}function h(t,i){this._context=t,this._k=(1-i)/6}h.prototype={areaStart:t.default,areaEnd:t.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._x3=t,this._y3=s;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=s);break;case 2:this._point=3,this._x5=t,this._y5=s;break;default:(0,i.point)(this,t,s)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=s}};var e=function t(i){function s(t){return new h(t,i)}return s.tension=function(i){return t(+i)},s}(0);exports.default=e;
},{"../noop":"rq1K","./cardinal":"ybaA"}],"vSH9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CardinalOpen=i,exports.default=void 0;var t=require("./cardinal");function i(t,i){this._context=t,this._k=(1-i)/6}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(i,s){switch(i=+i,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,t.point)(this,i,s)}this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=s}};var s=function t(s){function n(t){return new i(t,s)}return n.tension=function(i){return t(+i)},n}(0);exports.default=s;
},{"./cardinal":"ybaA"}],"jX8R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.point=i,exports.default=void 0;var _=require("../math"),t=require("./cardinal");function i(t,i,a){var s=t._x1,h=t._y1,l=t._x2,n=t._y2;if(t._l01_a>_.epsilon){var e=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,o=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*e-t._x0*t._l12_2a+t._x2*t._l01_2a)/o,h=(h*e-t._y0*t._l12_2a+t._y2*t._l01_2a)/o}if(t._l23_a>_.epsilon){var r=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);l=(l*r+t._x1*t._l23_2a-i*t._l12_2a)/c,n=(n*r+t._y1*t._l23_2a-a*t._l12_2a)/c}t._context.bezierCurveTo(s,h,l,n,t._x2,t._y2)}function a(_,t){this._context=_,this._alpha=t}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(_,t){if(_=+_,t=+t,this._point){var a=this._x2-_,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_,t):this._context.moveTo(_,t);break;case 1:this._point=2;break;case 2:this._point=3;default:i(this,_,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var s=function _(i){function s(_){return i?new a(_,i):new t.Cardinal(_,0)}return s.alpha=function(t){return _(+t)},s}(.5);exports.default=s;
},{"../math":"QkCX","./cardinal":"ybaA"}],"QYsD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./cardinalClosed"),i=_(require("../noop")),s=require("./catmullRom");function _(t){return t&&t.__esModule?t:{default:t}}function h(t,i){this._context=t,this._alpha=i}h.prototype={areaStart:i.default,areaEnd:i.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,i){if(t=+t,i=+i,this._point){var _=this._x2-t,h=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(_*_+h*h,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:(0,s.point)(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var e=function i(s){function _(i){return s?new h(i,s):new t.CardinalClosed(i,0)}return _.alpha=function(t){return i(+t)},_}(.5);exports.default=e;
},{"./cardinalClosed":"sVQZ","../noop":"rq1K","./catmullRom":"jX8R"}],"uHeG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./cardinalOpen"),i=require("./catmullRom");function _(t,i){this._context=t,this._alpha=i}_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,_){if(t=+t,_=+_,this._point){var s=this._x2-t,h=this._y2-_;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+h*h,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,i.point)(this,t,_)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=_}};var s=function i(s){function h(i){return s?new _(i,s):new t.CardinalOpen(i,0)}return h.alpha=function(t){return i(+t)},h}(.5);exports.default=s;
},{"./cardinalOpen":"vSH9","./catmullRom":"jX8R"}],"jD5Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var t=e(require("../noop"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){this._context=t}function o(t){return new n(t)}n.prototype={areaStart:t.default,areaEnd:t.default,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};
},{"../noop":"rq1K"}],"jrIf":[function(require,module,exports) {
"use strict";function t(t){return t<0?-1:1}function i(i,n,e){var o=i._x1-i._x0,s=n-i._x1,h=(i._y1-i._y0)/(o||s<0&&-0),_=(e-i._y1)/(s||o<0&&-0),c=(h*s+_*o)/(o+s);return(t(h)+t(_))*Math.min(Math.abs(h),Math.abs(_),.5*Math.abs(c))||0}function n(t,i){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-i)/2:i}function e(t,i,n){var e=t._x0,o=t._y0,s=t._x1,h=t._y1,_=(s-e)/3;t._context.bezierCurveTo(e+_,o+_*i,s-_,h-_*n,s,h)}function o(t){this._context=t}function s(t){this._context=new h(t)}function h(t){this._context=t}function _(t){return new o(t)}function c(t){return new s(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.monotoneX=_,exports.monotoneY=c,o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e(this,this._t0,n(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,o){var s=NaN;if(o=+o,(t=+t)!==this._x1||o!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,o):this._context.moveTo(t,o);break;case 1:this._point=2;break;case 2:this._point=3,e(this,n(this,s=i(this,t,o)),s);break;default:e(this,this._t0,s=i(this,t,o))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=o,this._t0=s}}},(s.prototype=Object.create(o.prototype)).point=function(t,i){o.prototype.point.call(this,i,t)},h.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,n,e,o,s){this._context.bezierCurveTo(i,t,e,n,s,o)}};
},{}],"E9mR":[function(require,module,exports) {
"use strict";function t(t){this._context=t}function e(t){var e,i,n=t.length-1,o=new Array(n),r=new Array(n),s=new Array(n);for(o[0]=0,r[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,r[e]=4,s[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,r[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=o[e]/r[e-1],r[e]-=i,s[e]-=i*s[e-1];for(o[n-1]=s[n-1]/r[n-1],e=n-2;e>=0;--e)o[e]=(s[e]-o[e+1])/r[e];for(r[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)r[e]=2*t[e+1]-o[e+1];return[o,r]}function i(e){return new t(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),2===n)this._context.lineTo(t[1],i[1]);else for(var o=e(t),r=e(i),s=0,h=1;h<n;++s,++h)this._context.bezierCurveTo(o[0][s],r[0][s],o[1][s],r[1][s],t[h],i[h]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};
},{}],"wKUw":[function(require,module,exports) {
"use strict";function t(t,i){this._context=t,this._t=i}function i(i){return new t(i,.5)}function e(i){return new t(i,0)}function n(i){return new t(i,1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.stepBefore=e,exports.stepAfter=n,t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,i)}}this._x=t,this._y=i}};
},{}],"z4bf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slice=void 0;var e=Array.prototype.slice;exports.slice=e;
},{}],"kM8D":[function(require,module,exports) {
"use strict";function e(e,t){if((o=e.length)>1)for(var r,o,f=1,s=e[t[0]],a=s.length;f<o;++f){r=s,s=e[t[f]];for(var i=0;i<a;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"bhzX":[function(require,module,exports) {
"use strict";function e(e){for(var r=e.length,t=new Array(r);--r>=0;)t[r]=r;return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"D9cr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=require("./array"),t=u(require("./constant")),n=u(require("./offset/none")),r=u(require("./order/none"));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return e[t]}function l(){var u=(0,t.default)([]),l=r.default,o=n.default,a=f;function i(e){var t,n,r=u.apply(this,arguments),f=e.length,i=r.length,c=new Array(i);for(t=0;t<i;++t){for(var d,s=r[t],y=c[t]=new Array(f),p=0;p<f;++p)y[p]=d=[0,+a(e[p],s,p,e)],d.data=e[p];y.key=s}for(t=0,n=l(c);t<i;++t)c[n[t]].index=t;return o(c,n),c}return i.keys=function(n){return arguments.length?(u="function"==typeof n?n:(0,t.default)(e.slice.call(n)),i):u},i.value=function(e){return arguments.length?(a="function"==typeof e?e:(0,t.default)(+e),i):a},i.order=function(n){return arguments.length?(l=null==n?r.default:"function"==typeof n?n:(0,t.default)(e.slice.call(n)),i):l},i.offset=function(e){return arguments.length?(o=null==e?n.default:e,i):o},i}
},{"./array":"z4bf","./constant":"gEzS","./offset/none":"kM8D","./order/none":"bhzX"}],"SioF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./none"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if((o=r.length)>0){for(var f,o,u,n=0,l=r[0].length;n<l;++n){for(u=f=0;f<o;++f)u+=r[f][n][1]||0;if(u)for(f=0;f<o;++f)r[f][n][1]/=u}(0,e.default)(r,t)}}
},{"./none":"kM8D"}],"Homz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./none"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if((u=r.length)>0){for(var u,n=0,o=r[t[0]],f=o.length;n<f;++n){for(var l=0,a=0;l<u;++l)a+=r[l][n][1]||0;o[n][1]+=o[n][0]=-a/2}(0,e.default)(r,t)}}
},{"./none":"kM8D"}],"cDqH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./none"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if((f=r.length)>0&&(u=(o=r[t[0]]).length)>0){for(var o,u,f,n=0,a=1;a<u;++a){for(var l=0,d=0,i=0;l<f;++l){for(var s=r[t[l]],v=s[a][1]||0,c=(v-(s[a-1][1]||0))/2,_=0;_<l;++_){var p=r[t[_]];c+=(p[a][1]||0)-(p[a-1][1]||0)}d+=v,i+=c*v}o[a-1][1]+=o[a-1][0]=n,d&&(n-=i/d)}o[a-1][1]+=o[a-1][0]=n,(0,e.default)(r,t)}}
},{"./none":"kM8D"}],"viVS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.sum=u;var e=r(require("./none"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=r.map(u);return(0,e.default)(r).sort(function(e,r){return t[e]-t[r]})}function u(e){for(var r,t=0,u=-1,n=e.length;++u<n;)(r=+e[u][1])&&(t+=r);return t}
},{"./none":"bhzX"}],"hV3U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./ascending"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){return(0,e.default)(r).reverse()}
},{"./ascending":"viVS"}],"ddw1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./none")),r=require("./ascending");function t(e){return e&&e.__esModule?e:{default:e}}function u(t){var u,n,o=t.length,s=t.map(r.sum),a=(0,e.default)(t).sort(function(e,r){return s[r]-s[e]}),c=0,f=0,i=[],d=[];for(u=0;u<o;++u)n=a[u],c<f?(c+=s[n],i.push(n)):(f+=s[n],d.push(n));return d.reverse().concat(i)}
},{"./none":"bhzX","./ascending":"viVS"}],"GlOc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./none"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){return(0,e.default)(r).reverse()}
},{"./none":"bhzX"}],"RuDH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"arc",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"area",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"line",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"pie",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"radialArea",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"radialLine",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"symbol",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"symbols",{enumerable:!0,get:function(){return c.symbols}}),Object.defineProperty(exports,"symbolCircle",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"symbolCross",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"symbolDiamond",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"symbolSquare",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"symbolStar",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"symbolTriangle",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"symbolWye",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"curveBasisClosed",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"curveBasisOpen",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"curveBasis",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"curveBundle",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"curveCardinalClosed",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"curveCardinalOpen",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"curveCardinal",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"curveCatmullRomClosed",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"curveCatmullRomOpen",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"curveCatmullRom",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"curveLinearClosed",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(exports,"curveLinear",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(exports,"curveMonotoneX",{enumerable:!0,get:function(){return M.monotoneX}}),Object.defineProperty(exports,"curveMonotoneY",{enumerable:!0,get:function(){return M.monotoneY}}),Object.defineProperty(exports,"curveNatural",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(exports,"curveStep",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(exports,"curveStepAfter",{enumerable:!0,get:function(){return w.stepAfter}}),Object.defineProperty(exports,"curveStepBefore",{enumerable:!0,get:function(){return w.stepBefore}}),Object.defineProperty(exports,"stack",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(exports,"stackOffsetExpand",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(exports,"stackOffsetNone",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(exports,"stackOffsetSilhouette",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(exports,"stackOffsetWiggle",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(exports,"stackOrderAscending",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"stackOrderDescending",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(exports,"stackOrderInsideOut",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(exports,"stackOrderNone",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(exports,"stackOrderReverse",{enumerable:!0,get:function(){return X.default}});var e=I(require("./src/arc")),r=I(require("./src/area")),t=I(require("./src/line")),n=I(require("./src/pie")),u=I(require("./src/radialArea")),o=I(require("./src/radialLine")),c=E(require("./src/symbol")),i=I(require("./src/symbol/circle")),s=I(require("./src/symbol/cross")),a=I(require("./src/symbol/diamond")),f=I(require("./src/symbol/square")),l=I(require("./src/symbol/star")),d=I(require("./src/symbol/triangle")),p=I(require("./src/symbol/wye")),b=I(require("./src/curve/basisClosed")),m=I(require("./src/curve/basisOpen")),y=I(require("./src/curve/basis")),O=I(require("./src/curve/bundle")),g=I(require("./src/curve/cardinalClosed")),j=I(require("./src/curve/cardinalOpen")),P=I(require("./src/curve/cardinal")),x=I(require("./src/curve/catmullRomClosed")),v=I(require("./src/curve/catmullRomOpen")),q=I(require("./src/curve/catmullRom")),C=I(require("./src/curve/linearClosed")),k=I(require("./src/curve/linear")),M=require("./src/curve/monotone"),R=I(require("./src/curve/natural")),w=E(require("./src/curve/step")),B=I(require("./src/stack")),S=I(require("./src/offset/expand")),_=I(require("./src/offset/none")),A=I(require("./src/offset/silhouette")),h=I(require("./src/offset/wiggle")),D=I(require("./src/order/ascending")),L=I(require("./src/order/descending")),W=I(require("./src/order/insideOut")),N=I(require("./src/order/none")),X=I(require("./src/order/reverse"));function Y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Y=function(){return e},e}function E(e){if(e&&e.__esModule)return e;var r=Y();if(r&&r.has(e))return r.get(e);var t={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var o=n?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(t,u,o):t[u]=e[u]}}return t.default=e,r&&r.set(e,t),t}function I(e){return e&&e.__esModule?e:{default:e}}
},{"./src/arc":"o1j5","./src/area":"iLNN","./src/line":"auwa","./src/pie":"GOEE","./src/radialArea":"Z8Dl","./src/radialLine":"nHiQ","./src/symbol":"sfAX","./src/symbol/circle":"OlIp","./src/symbol/cross":"Okx0","./src/symbol/diamond":"s3x2","./src/symbol/square":"kMFP","./src/symbol/star":"agw7","./src/symbol/triangle":"ThAG","./src/symbol/wye":"jXll","./src/curve/basisClosed":"oBdA","./src/curve/basisOpen":"n2TT","./src/curve/basis":"OoRj","./src/curve/bundle":"V0HS","./src/curve/cardinalClosed":"sVQZ","./src/curve/cardinalOpen":"vSH9","./src/curve/cardinal":"ybaA","./src/curve/catmullRomClosed":"QYsD","./src/curve/catmullRomOpen":"uHeG","./src/curve/catmullRom":"jX8R","./src/curve/linearClosed":"jD5Y","./src/curve/linear":"Qb3z","./src/curve/monotone":"jrIf","./src/curve/natural":"E9mR","./src/curve/step":"wKUw","./src/stack":"D9cr","./src/offset/expand":"SioF","./src/offset/none":"kM8D","./src/offset/silhouette":"Homz","./src/offset/wiggle":"cDqH","./src/order/ascending":"viVS","./src/order/descending":"hV3U","./src/order/insideOut":"ddw1","./src/order/none":"bhzX","./src/order/reverse":"GlOc"}],"CZZQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.annotation=$,exports.default=exports.annotationCustomType=exports.annotationBadge=exports.annotationXYThreshold=exports.annotationCalloutRect=exports.annotationCalloutCircle=exports.annotationCalloutElbow=exports.annotationCalloutCurve=exports.annotationCallout=exports.annotationLabel=exports.annotationTypeBase=void 0;var t=require("d3-selection"),e=require("d3-drag"),n=require("d3-shape"),o=require("d3-dispatch"),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},c=function t(e,n,o){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(void 0===a){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(o):void 0},u=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},d=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},l=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},h=function(){function t(e){var n=e.x,o=void 0===n?0:n,a=e.y,s=void 0===a?0:a,r=e.nx,c=e.ny,u=e.dy,d=void 0===u?0:u,l=e.dx,h=void 0===l?0:l,p=e.color,y=void 0===p?"grey":p,f=e.data,v=e.type,g=e.subject,b=e.connector,x=e.note,m=e.disable,j=e.id,w=e.className;i(this,t),this._dx=void 0!==r?r-o:h,this._dy=void 0!==c?c-s:d,this._x=o,this._y=s,this._color=y,this.id=j,this._className=w||"",this._type=v||"",this.data=f,this.note=x||{},this.connector=b||{},this.subject=g||{},this.disable=m||[]}return s(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(t){this._type=t,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var e=t.x,n=t.y;this._dx=e,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var e=t.x,n=t.y;this._x=e,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),p=function(){function t(e){var n=e.annotations,o=e.accessors,a=e.accessorsInverse;i(this,t),this.accessors=o,this.accessorsInverse=a,this.annotations=n}return s(t,[{key:"clearTypes",value:function(t){this.annotations.forEach(function(e){e.type=void 0,e.subject=t&&t.subject||e.subject,e.connector=t&&t.connector||e.connector,e.note=t&&t.note||e.note})}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach(function(e){e.type.setPositionWithAccessors(t.accessors)})}},{key:"editMode",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.editMode=t,e.type.updateEditMode())})}},{key:"updateDisable",value:function(t){this.annotations.forEach(function(e){e.disable=t,e.type&&t.forEach(function(t){e.type[t]&&(e.type[t].remove&&e.type[t].remove(),e.type[t]=void 0)})})}},{key:"updateTextWrap",value:function(t){this.annotations.forEach(function(e){e.type&&e.type.updateTextWrap&&e.type.updateTextWrap(t)})}},{key:"updateText",value:function(){this.annotations.forEach(function(t){t.type&&t.type.drawText&&t.type.drawText()})}},{key:"updateNotePadding",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.notePadding=t)})}},{key:"json",get:function(){var t=this;return this.annotations.map(function(e){var n=e.json;return t.accessorsInverse&&e.data&&(n.data={},Object.keys(t.accessorsInverse).forEach(function(o){n.data[o]=t.accessorsInverse[o]({x:e.x,y:e.y})})),n})}},{key:"noteNodes",get:function(){return this.annotations.map(function(t){return r({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})})}}]),t}(),y=function(t){var e=t.cx,n=void 0===e?0:e,o=t.cy;return{move:{x:n,y:void 0===o?0:o}}},f=function(t){var e=t.cx,n=void 0===e?0:e,o=t.cy,a=void 0===o?0:o,i=t.r1,s=t.r2,r=t.padding,c={move:{x:n,y:a}};return void 0!==i&&(c.r1={x:n+i/Math.sqrt(2),y:a+i/Math.sqrt(2)}),void 0!==s&&(c.r2={x:n+s/Math.sqrt(2),y:a+s/Math.sqrt(2)}),void 0!==r&&(c.padding={x:n+i+r,y:a}),c},v=function(n){var o=n.group,a=n.handles,i=n.r,s=void 0===i?10:i,r=o.selectAll("circle.handle").data(a);r.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call((0,e.drag)().container((0,t.select)("g.annotations").node()).on("start",function(t){return t.start&&t.start(t)}).on("drag",function(t){return t.drag&&t.drag(t)}).on("end",function(t){return t.end&&t.end(t)})),o.selectAll("circle.handle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return t.r||s}).attr("class",function(t){return"handle "+(t.className||"")}),r.exit().remove()},g=function(t,e){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=e<0?"top":"bottom"),t},b=function(t,e){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=e<0?"right":"left"),t},x=["topBottom","top","bottom"],m=["leftRight","left","right"],j=function(t){var e=t.padding,n=void 0===e?0:e,o=t.bbox,a=void 0===o?{x:0,y:0,width:0,height:0}:o,i=t.align,s=t.orientation,r=t.offset,c=void 0===r?{x:0,y:0}:r,u=-a.x,d=0;return-1!==x.indexOf(s)?(i=b(i,c.x),c.y<0&&"topBottom"===s||"top"===s?d-=a.height+n:d+=n,"middle"===i?u-=a.width/2:"right"===i&&(u-=a.width)):-1!==m.indexOf(s)&&(i=g(i,c.y),c.x<0&&"leftRight"===s||"left"===s?u-=a.width+n:u+=n,"middle"===i?d-=a.height/2:"top"===i&&(d-=a.height)),{x:u,y:d}},w=function(t){var e=t.data,o=t.curve,a=void 0===o?n.curveLinear:o,i=t.canvasContext,s=t.className,r=t.classID,c=(0,n.line)().curve(a),u={type:"path",className:s,classID:r,data:e};return i?(c.context(i),u.pathMethods=c):u.attrs={d:c(e)},u},_=function(t){var e=t.data,o=t.canvasContext,a={type:"path",className:t.className,classID:t.classID,data:e},i=(0,n.arc)().innerRadius(e.innerRadius||0).outerRadius(e.outerRadius||e.radius||2).startAngle(e.startAngle||0).endAngle(e.endAngle||2*Math.PI);return o?(i.context(o),a.pathMethods=lineGen):a.attrs={d:i()},a},k=function(t){var e=t.align,n=t.x,o=void 0===n?0:n,a=t.y,i=void 0===a?0:a,s=t.bbox,r=t.offset;"top"===(e=g(e,r.y))?i-=s.height:"middle"===e&&(i-=s.height/2);var c=[[o,i],[o,i+s.height]];return{components:[w({data:c,className:"note-line"})]}},O=function(t){var e=t.align,n=t.x,o=void 0===n?0:n,a=t.y,i=void 0===a?0:a,s=t.offset,r=t.bbox;"right"===(e=b(e,s.x))?o-=r.width:"middle"===e&&(o-=r.width/2);var c=[[o,i],[o+r.width,i]];return{components:[w({data:c,className:"note-line"})]}},N=function(t){var e=t.type,n=t.subjectType,o=e.annotation,a=o.position,i=o.x-a.x,s=i+o.dx,r=o.y-a.y,c=r+o.dy,u=o.subject;if("circle"===n&&(u.outerRadius||u.radius)){var d=Math.sqrt((i-s)*(i-s)+(r-c)*(r-c)),l=Math.asin(-c/d),h=u.outerRadius||u.radius+(u.radiusPadding||0);i=Math.abs(Math.cos(l)*h)*(s<0?-1:1),r=Math.abs(Math.sin(l)*h)*(c<0?-1:1)}if("rect"===n){var p=u.width,y=u.height;(p>0&&o.dx>0||p<0&&o.dx<0)&&(i=Math.abs(p)>Math.abs(o.dx)?p/2:p),(y>0&&o.dy>0||y<0&&o.dy<0)&&(r=Math.abs(y)>Math.abs(o.dy)?y/2:y),i===p/2&&r===y/2&&(i=s,r=c)}return[[i,r],[s,c]]},M=function(t){var e=N(t);return{components:[w({data:e,className:"connector"})]}},C=function(t){var e=t.type,n=t.subjectType,o=e.annotation,a=o.position,i=o.x-a.x,s=i+o.dx,r=o.y-a.y,c=r+o.dy,u=o.subject;if("rect"===n){var d=u.width,l=u.height;(d>0&&o.dx>0||d<0&&o.dx<0)&&(i=Math.abs(d)>Math.abs(o.dx)?d/2:d),(l>0&&o.dy>0||l<0&&o.dy<0)&&(r=Math.abs(l)>Math.abs(o.dy)?l/2:l),i===d/2&&r===l/2&&(i=s,r=c)}var h=[[i,r],[s,c]],p=c-r,y=s-i,f=s,v=c,g=c<r&&s>i||s<i&&c>r?-1:1;if(Math.abs(y)<Math.abs(p)?(f=s,v=r+y*g):(v=c,f=i+p*g),"circle"===n&&(u.outerRadius||u.radius)){var b=(u.outerRadius||u.radius)+(u.radiusPadding||0),x=b/Math.sqrt(2);if(Math.abs(y)>x&&Math.abs(p)>x)h=[[i=x*(s<0?-1:1),r=x*(c<0?-1:1)],[f,v],[s,c]];else if(Math.abs(y)>Math.abs(p)){var m=Math.asin(-c/b);h=[[i=Math.abs(Math.cos(m)*b)*(s<0?-1:1),c],[s,c]]}else{var j=Math.acos(s/b);h=[[s,r=Math.abs(Math.sin(j)*b)*(c<0?-1:1)],[s,c]]}}else h=[[i,r],[f,v],[s,c]];return{components:[w({data:h,className:"connector"})]}},S=function(e){var o=e.type,a=e.connectorData,i=e.subjectType;a||(a={}),a.points&&"number"!=typeof a.points||(a.points=P(o.annotation.offset,a.points)),a.curve||(a.curve=n.curveCatmullRom);var s=[];if(o.editMode){var c=a.points.map(function(t,e){return r({},y({cx:t[0],cy:t[1]}),{index:e})}),u=function(e){a.points[e][0]+=t.event.dx,a.points[e][1]+=t.event.dy,o.redrawConnector()};s=o.mapHandles(c.map(function(t){return r({},t.move,{drag:u.bind(o,t.index)})}))}var d=N({type:o,subjectType:i});return d=[d[0]].concat(l(a.points),[d[1]]),{components:[w({data:d,curve:a.curve,className:"connector"})],handles:s}},P=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t.x/(e+1),o=t.y/(e+1),a=[],i=1;i<=e;i++)a.push([n*i+i%2*20,o*i-i%2*20]);return a},T=function(t){var e=t.annotation,n=t.start,o=t.end,a=t.scale,i=void 0===a?1:a,s=e.position;n=n?[-o[0]+n[0],-o[1]+n[1]]:[e.dx,e.dy],o||(o=[e.x-s.x,e.y-s.y]);var r=o[0],c=o[1],u=n[0],d=n[1],l=10*i,h=16/180*Math.PI,p=Math.atan(d/u);u<0&&(p+=Math.PI);var y=[[r,c],[Math.cos(p+h)*l+r,Math.sin(p+h)*l+c],[Math.cos(p-h)*l+r,Math.sin(p-h)*l+c],[r,c]];return{components:[w({data:y,className:"connector-end connector-arrow",classID:"connector-end"})]}},A=function(t){var e=t.line,n=t.scale,o=void 0===n?1:n,a=_({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(o)}});return a.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")",{components:[a]}},E=function(e){var n=e.subjectData,o=e.type;n.radius||n.outerRadius||(n.radius=20);var a=[],i=_({data:n,className:"subject"});if(o.editMode){var s=f({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:n.radiusPadding}),c=function(e){var a=n[e]+t.event.dx*Math.sqrt(2);n[e]=a,o.redrawSubject(),o.redrawConnector()},u=[r({},s.r1,{drag:c.bind(o,void 0!==n.outerRadius?"outerRadius":"radius")})];n.innerRadius&&u.push(r({},s.r2,{drag:c.bind(o,"innerRadius")})),a=o.mapHandles(u)}return i.attrs["fill-opacity"]=0,{components:[i],handles:a}},R=function(e){var n=e.subjectData,o=e.type;n.width||(n.width=100),n.height||(n.height=100);var a=[],i=n.width,s=n.height,r=w({data:[[0,0],[i,0],[i,s],[0,s],[0,0]],className:"subject"});if(o.editMode){var c=[{x:i,y:s/2,drag:function(){n.width=t.event.x,o.redrawSubject(),o.redrawConnector()}.bind(o)},{x:i/2,y:s,drag:function(){n.height=t.event.y,o.redrawSubject(),o.redrawConnector()}.bind(o)}];a=o.mapHandles(c)}return r.attrs["fill-opacity"]=.1,{components:[r],handles:a}},B=function(t){var e=t.subjectData,n=t.type.annotation.position,o=(void 0!==e.x1?e.x1:n.x)-n.x,a=(void 0!==e.x2?e.x2:n.x)-n.x,i=(void 0!==e.y1?e.y1:n.y)-n.y,s=(void 0!==e.y2?e.y2:n.y)-n.y;return{components:[w({data:[[o,i],[a,s]],className:"subject"})]}},I=function(e){var n=e.subjectData,o=void 0===n?{}:n,a=e.type,i=void 0===a?{}:a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.typeSettings&&i.typeSettings.subject;o.radius||(r&&r.radius?o.radius=r.radius:o.radius=14),o.x||r&&r.x&&(o.x=r.x),o.y||r&&r.y&&(o.y=r.y);var c=[],u=[],d=o.radius,l=.7*d,h=0,p=0,y=Math.sqrt(2)*d,f={xleftcorner:-d,xrightcorner:d,ytopcorner:-d,ybottomcorner:d,xleft:-y,xright:y,ytop:-y,ybottom:y};o.x&&!o.y?h=f["x"+o.x]:o.y&&!o.x?p=f["y"+o.y]:o.x&&o.y&&(h=f["x"+o.x+"corner"],p=f["y"+o.y+"corner"]);var v="translate("+h+", "+p+")",g=_({className:"subject",data:{radius:d}});g.attrs.transform=v,g.attrs.fill=s.color,g.attrs["stroke-linecap"]="round",g.attrs["stroke-width"]="3px";var b=_({className:"subject-ring",data:{outerRadius:d,innerRadius:l}});b.attrs.transform=v,b.attrs["stroke-width"]="3px",b.attrs.fill="white";var x=void 0;if(h&&p||!h&&!p)x=w({className:"subject-pointer",data:[[0,0],[h||0,0],[0,p||0],[0,0]]});else if(h||p){var m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||e*d/Math.sqrt(2)};x=w({className:"subject-pointer",data:[[0,0],[m(h),m(p)],[m(h,-1),m(p,-1)],[0,0]]})}if(x&&(x.attrs.fill=s.color,x.attrs["stroke-linecap"]="round",x.attrs["stroke-width"]="3px",u.push(x)),i.editMode){var j={x:2*h,y:2*p,drag:function(){o.x=t.event.x<2*-d?"left":t.event.x>2*d?"right":void 0,o.y=t.event.y<2*-d?"top":t.event.y>2*d?"bottom":void 0,i.redrawSubject()}.bind(i)};j.x||j.y||(j.y=-d),c=i.mapHandles([j])}var k=void 0;return o.text&&(k={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:o.text,"text-anchor":"middle",dy:".25em",x:h,y:p}}),u.push(g),u.push(b),u.push(k),{components:u,handles:c}},q=function(){function n(t){var e=t.a,o=t.annotation,a=t.editMode,s=t.dispatcher,r=t.notePadding,c=t.accessors;if(i(this,n),this.a=e,this.note=-1===o.disable.indexOf("note")&&e.select("g.annotation-note"),this.noteContent=this.note&&e.select("g.annotation-note-content"),this.connector=-1===o.disable.indexOf("connector")&&e.select("g.annotation-connector"),this.subject=-1===o.disable.indexOf("subject")&&e.select("g.annotation-subject"),this.dispatcher=s,s){var u=Q.bind(null,s,o);u({component:this.note,name:"note"}),u({component:this.connector,name:"connector"}),u({component:this.subject,name:"subject"})}this.annotation=o,this.editMode=o.editMode||a,this.notePadding=void 0!==r?r:3,this.offsetCornerX=0,this.offsetCornerY=0,c&&o.data&&this.init(c)}return s(n,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,e){var n=this;Array.isArray(e)||(e=[e]),e.filter(function(t){return t}).forEach(function(e){var o=e.type,a=e.className,i=e.attrs,s=e.handles,r=e.classID;if("handle"===o)v({group:t,r:i&&i.r,handles:s});else{K(t,[n.annotation],o,a,r);for(var c=t.select(o+"."+(r||a)),u=Object.keys(i),d=[],l=c.node().attributes,h=l.length-1;h>=0;h--){var p=l[h].name;-1===u.indexOf(p)&&"class"!==p&&d.push(p)}u.forEach(function(t){"text"===t?c.text(i[t]):c.attr(t,i[t])}),d.forEach(function(t){return c.attr(t,null)})}})}},{key:"getNoteBBox",value:function(){return Z(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=Z(this.note,".annotation-note-content"),e=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(e[1])+this.annotation.dx,t.offsetCornerY=parseFloat(e[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.subject,o=e.type,a={type:this,subjectData:n},i={};"circle"===o?i=E(a):"rect"===o?i=R(a):"threshold"===o?i=B(a):"badge"===o&&(i=I(a,this.annotation));var s=i,r=s.components,c=void 0===r?[]:r,u=s.handles,d=void 0===u?[]:u;return c.forEach(function(e){e&&e.attrs&&!e.attrs.stroke&&(e.attrs.stroke=t.annotation.color)}),this.editMode&&(d=d.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),c.push({type:"handle",handles:d})),c}},{key:"drawConnector",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.connector,o=n.type||e.type,a={type:this,connectorData:n};a.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var i="curve"===o?S(a):"elbow"===o?C(a):M(a),s=i.components,r=void 0===s?[]:s,c=i.handles,u=void 0===c?[]:c,d=r[0];d&&(d.attrs.stroke=this.annotation.color,d.attrs.fill="none");var l=n.end||e.end,h={};if("arrow"===l){var p=d.data[1],y=d.data[0];Math.sqrt(Math.pow(p[0]-y[0],2)+Math.pow(p[1]-y[1],2))<5&&d.data[2]&&(p=d.data[2]),h=T({annotation:this.annotation,start:p,end:y,scale:n.endScale})}else"dot"===l?h=A({line:d,scale:n.endScale}):l&&"none"!==l||this.connector&&this.connector.select(".connector-end").remove();return h.components&&(h.components.forEach(function(e){e.attrs.fill=t.annotation.color,e.attrs.stroke=t.annotation.color}),r=r.concat(h.components)),this.editMode&&0!==u.length&&r.push({type:"handle",handles:u}),r}},{key:"drawNote",value:function(){var n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.annotation.note,i=a.align||o.align||"dynamic",s={bbox:o.bbox,align:i,offset:this.annotation.offset},r=a.lineType||o.lineType,c={};"vertical"===r?c=k(s):"horizontal"===r&&(c=O(s));var u=c,d=u.components,l=void 0===d?[]:d,h=u.handles,p=void 0===h?[]:h;if(l.forEach(function(t){t.attrs.stroke=n.annotation.color}),this.editMode){p=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),l.push({type:"handle",handles:p});var y=this.dragNote.bind(this),f=this.dragstarted.bind(this),v=this.dragended.bind(this);this.note.call((0,e.drag)().container((0,t.select)("g.annotations").node()).on("start",function(t){return f(t)}).on("drag",function(t){return y(t)}).on("end",function(t){return v(t)}))}else this.note.on("mousedown.drag",null);return l}},{key:"drawNoteContent",value:function(t){var e=this.annotation.note,n=void 0!==e.padding?e.padding:this.notePadding,o=e.orientation||t.orientation||"topBottom",a=e.lineType||t.lineType,i=e.align||t.align||"dynamic";"vertical"===a?o="leftRight":"horizontal"===a&&(o="topBottom");var s={padding:n,bbox:t.bbox,offset:this.annotation.offset,orientation:o,align:i},r=j(s),c=r.x,u=r.y;return this.offsetCornerX=c+this.annotation.dx,this.offsetCornerY=u+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+c+", "+u+")"),[]}},{key:"drawOnScreen",value:function(t,e){return this.drawOnSVG(t,e)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){t.event.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var e=this.annotation.position;e.x+=t.event.dx,e.y+=t.event.dy,this.annotation.position=e}},{key:"dragNote",value:function(){var e=this.annotation.offset;e.x+=t.event.dx,e.y+=t.event.dy,this.annotation.offset=e}},{key:"mapHandles",value:function(t){var e=this;return t.map(function(t){return r({},t,{start:e.dragstarted.bind(e),end:e.dragended.bind(e)})})}}]),n}();exports.annotationTypeBase=q;var D=function(t,e,n){return function(o){function a(t){i(this,a);var n=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return n.typeSettings=e,e.disable&&e.disable.forEach(function(t){n[t]&&n[t].remove(),n[t]=void 0,"note"===t&&(n.noteContent=void 0)}),n}return u(a,t),s(a,[{key:"className",value:function(){return""+(e.className||c(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"className",this)&&c(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=r({},e.subject,this.typeSettings.subject),c(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawSubject",this).call(this,r({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=r({},e.connector,this.typeSettings.connector),c(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawConnector",this).call(this,r({},t,e.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=r({},e.note,this.typeSettings.note),c(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawNote",this).call(this,r({},t,e.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return c(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawNoteContent",this).call(this,r({},t,e.note,this.typeSettings.note))}}],[{key:"init",value:function(t,e){return c(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,t,e),n&&(t=n(t,e)),t}}]),a}()};exports.annotationCustomType=D;var W=function(t){function e(t){i(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.textWrap=t.textWrap||120,n.drawText(),n}return u(e,q),s(e,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){K(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");K(t,[this.annotation],"rect","annotation-note-bg"),K(t,[this.annotation],"text","annotation-note-label"),K(t,[this.annotation],"text","annotation-note-title");var e={height:0},n=this.a.select("text.annotation-note-label"),o=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,i=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,s=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,c={top:0,bottom:0,left:0,right:0};if("number"==typeof s?c={top:s,bottom:s,left:s,right:s}:s&&"object"===(void 0===s?"undefined":a(s))&&(c=r(c,s)),this.annotation.note.title){var u=this.a.select("text.annotation-note-title");u.text(this.annotation.note.title),u.attr("fill",this.annotation.color),u.attr("font-weight","bold"),u.call(U,o,i),e=u.node().getBBox()}n.text(this.annotation.note.label).attr("dx","0"),n.call(U,o,i),n.attr("y",1.1*e.height||0),n.attr("fill",this.annotation.color);var d=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",d.width+c.left+c.right).attr("height",d.height+c.top+c.bottom).attr("x",d.x-c.left).attr("y",-c.top).attr("fill","white").attr("fill-opacity",0)}}}]),e}(),X=D(W,{className:"label",note:{align:"middle"}});exports.annotationLabel=X;var Y=D(W,{className:"callout",note:{lineType:"horizontal"}});exports.annotationCallout=Y;var H=D(Y,{className:"callout elbow",connector:{type:"elbow"}});exports.annotationCalloutElbow=H;var z=D(Y,{className:"callout curve",connector:{type:"curve"}});exports.annotationCalloutCurve=z;var L=D(q,{className:"badge",subject:{type:"badge"},disable:["connector","note"]});exports.annotationBadge=L;var F=D(W,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}});exports.annotationCalloutCircle=F;var J=D(W,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}});exports.annotationCalloutRect=J;var G=function(t){function e(){return i(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,Y),s(e,[{key:"mapY",value:function(t){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,t);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&t.y&&(n.y=t.y(n.data)),!n.subject.x1&&!n.subject.x2||n.x||(n.x=n.subject.x1||n.subject.x2)}},{key:"mapX",value:function(t){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,t);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&t.x&&(n.x=t.x(n.data)),!n.subject.y1&&!n.subject.y2||n.y||(n.y=n.subject.y1||n.subject.y2)}}]),e}(),V=D(G,{className:"callout xythreshold",subject:{type:"threshold"}});exports.annotationXYThreshold=V;var K=function(t,e,n,o,a){var i=t.selectAll(n+"."+(a||o)).data(e);return i.enter().append(n).merge(i).attr("class",o),i.exit().remove(),t},Q=function(t,e,n){var o=n.component,a=n.name;o&&o.on("mouseover.annotations",function(){t.call(a+"over",o,e)}).on("mouseout.annotations",function(){return t.call(a+"out",o,e)}).on("click.annotations",function(){return t.call(a+"click",o,e)})},U=function(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;e.each(function(){for(var e=(0,t.select)(this),i=e.text().split(o||/[ \t\r\n]+/).reverse().filter(function(t){return""!==t}),s=void 0,r=[],c=e.text(null).append("tspan").attr("x",0).attr("dy","0.8em");s=i.pop();)r.push(s),c.text(r.join(" ")),c.node().getComputedTextLength()>n&&r.length>1&&(r.pop(),c.text(r.join(" ")),r=[s],c=e.append("tspan").attr("x",0).attr("dy",a+"em").text(s))})},Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";return t?t.selectAll(e).nodes().reduce(function(t,e){var n=e.getBBox();t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),t.width=Math.max(t.width,n.width);var o=e&&e.attributes&&e.attributes.y;return t.height=Math.max(t.height,(o&&parseFloat(o.value)||0)+n.height),t},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function $(){var e=[],n=void 0,a=void 0,i=[],s={},r={},c=!1,u=void 0,d=Y,l=void 0,y=void 0,f=(0,o.dispatch)("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),v=void 0,g=function(o){v=o,c||o.selectAll("circle.handle").remove();var a=e.map(function(t){return t.type||(t.type=d),t.disable||(t.disable=i),new h(t)});n=n||new p({annotations:a,accessors:s,accessorsInverse:r,ids:u}),o.selectAll("g").data([n]).enter().append("g").attr("class","annotations");var g=o.select("g.annotations");K(g,n.annotations,"g","annotation");var b=g.selectAll("g.annotation");b.each(function(e){var n=(0,t.select)(this);n.attr("class","annotation"),K(n,[e],"g","annotation-connector"),K(n,[e],"g","annotation-subject"),K(n,[e],"g","annotation-note"),K(n.select("g.annotation-note"),[e],"g","annotation-note-content"),e.type="[object Object]"===e.type.toString()?e.type:new e.type({a:n,annotation:e,textWrap:l,notePadding:y,editMode:c,dispatcher:f,accessors:s}),e.type.draw(),e.type.drawText&&e.type.drawText()})};return g.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",n.json),window.copy(JSON.stringify(n.json.map(function(t){return delete t.type,t}))),g},g.update=function(){return e&&n&&(e=n.annotations.map(function(t){return t.type.draw(),t})),g},g.updateText=function(){return n&&(n.updateText(l),e=n.annotations),g},g.updatedAccessors=function(){return n.setPositionWithAccessors(),e=n.annotations,g},g.disable=function(t){return arguments.length?(i=t,n&&(n.updateDisable(i),e=n.annotations),g):i},g.textWrap=function(t){return arguments.length?(l=t,n&&(n.updateTextWrap(l),e=n.annotations),g):l},g.notePadding=function(t){return arguments.length?(y=t,n&&(n.updateNotePadding(y),e=n.annotations),g):y},g.type=function(t,o){return arguments.length?(d=t,n&&(n.annotations.map(function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=d,t.subject=o&&o.subject||t.subject,t.connector=o&&o.connector||t.connector,t.note=o&&o.note||t.note}),e=n.annotations),g):d},g.annotations=function(t){if(!arguments.length)return n&&n.annotations||e;(e=t,n&&n.annotations)&&(e.some(function(t){return!t.type||"[object Object]"!==t.type.toString()})?(n=null,g(v)):n.annotations=e);return g},g.context=function(t){return arguments.length?(a=t,g):a},g.accessors=function(t){return arguments.length?(s=t,g):s},g.accessorsInverse=function(t){return arguments.length?(r=t,g):r},g.ids=function(t){return arguments.length?(u=t,g):u},g.editMode=function(t){return arguments.length?(c=t,v&&v.selectAll("g.annotation").classed("editable",c),n&&(n.editMode(c),e=n.annotations),g):c},g.collection=function(t){return arguments.length?(n=t,g):n},g.on=function(){var t=f.on.apply(f,arguments);return t===f?g:t},g}var tt={annotation:$,annotationTypeBase:q,annotationLabel:X,annotationCallout:Y,annotationCalloutCurve:z,annotationCalloutElbow:H,annotationCalloutCircle:F,annotationCalloutRect:J,annotationXYThreshold:V,annotationBadge:L,annotationCustomType:D},et=tt;exports.default=et;
},{"d3-selection":"Zd0B","d3-drag":"TTSn","d3-shape":"RuDH","d3-dispatch":"UiFk"}],"tR9U":[function(require,module,exports) {
"use strict";function e(e){var t=e.text,s=e.chars,r=void 0===s?100:s,n=e.clean,o=void 0===n||n,a=e.ellipses,i=void 0!==a&&a,l=t.length>r,c=t.substring(0,r),d=o?c.lastIndexOf(" "):c.length,u=l?c.substring(0,d):t,v=l&&i?"...":"";return"".concat(u).concat(v)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"I3zv":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||l(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||l(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,l()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(a){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var o=new Audio;o._unlocked=!0,e._releaseHtml5Audio(o)}catch(n){e.noAudio=!0;break}for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[r]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new n,r=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};r.prototype={init:function(e){var t=this;return o.ctx||l(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new i(this),this._webAudio&&s(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var d=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),_=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-d),l=1e3*_/Math.abs(s._rate),c=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var f=function(){s._paused=!1,s._seek=d,s._start=c,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(d>=p)){var h=s._node;if(n._webAudio){var m=function(){n._playLock=!1,f(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;h.gain.setValueAtTime(e,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===h.bufferSource.start?s._loop?h.bufferSource.noteGrainOn(0,d,86400):h.bufferSource.noteGrainOn(0,d,_):s._loop?h.bufferSource.start(0,d,86400):h.bufferSource.start(0,d,_),l!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===o.state&&"interrupted"!==o.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var v=function(){h.currentTime=d,h.muted=s._muted||n._muted||o._muted||h.muted,h.volume=s._volume*o.volume(),h.playbackRate=s._rate;try{var r=h.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,f(),r.then(function(){n._playLock=!1,h._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,f(),n._emit("play",s._id),n._loadQueue()),h.playbackRate=s._rate,h.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l):(n._endTimers[s._id]=function(){n._ended(s),h.removeEventListener("ended",n._endTimers[s._id],!1)},h.addEventListener("ended",n._endTimers[s._id],!1))}catch(i){n._emit("playerror",s._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=n._src,h.load());var A=window&&window.ejecta||!h.readyState&&o._navigator.isCocoonJS;if(h.readyState>=3||A)v();else{n._playLock=!0;var y=function(){v(),h.removeEventListener(o._canPlayEvent,y,!1)};h.addEventListener(o._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var r=t._soundById(n[o]);if(r&&!r._paused&&(r._seek=t.seek(n[o]),r._rateSeek=0,r._paused=!0,t._stopFade(n[o]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var o=n._getSoundIds(e),r=0;r<o.length;r++){n._clearTimer(o[r]);var i=n._soundById(o[r]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(o[r]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,i[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var d=o.ctx.currentTime,_=d+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,d),u._node.gain.linearRampToValueAtTime(t,_)}i._startFadeInterval(u,e,t,n,a[s],void 0===r)}}return i},_startFadeInterval:function(e,t,n,o,r,i){var a=this,s=t,u=n-t,d=Math.abs(u/.01),_=Math.max(4,d>0?o/d:o),l=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var r=(Date.now()-l)/o;l=Date.now(),s+=u*r,s=u<0?Math.max(n,s):Math.min(n,s),s=Math.round(100*s)/100,a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},_)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,o=arguments;if(0===o.length)return this._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=this._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],this._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var r=this._getSoundIds(t),i=0;i<r.length;i++)(n=this._soundById(r[i]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return this},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(t);if(i){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?o.ctx.currentTime-i._playStart:0,s=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(s+a*Math.abs(i._rate))}return i._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),i._seek=e,i._ended=!1,n._clearTimer(t),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var d=function(){n._emit("seek",t),u&&n.play(t,!0)};if(u&&!n._webAudio){var _=function(){n._playLock?setTimeout(_,0):d()};setTimeout(_,0)}else d()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return a&&i&&delete a[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,o){var r=this["_on"+e];return"function"==typeof t&&r.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),this},off:function(e,t,n){var o=this["_on"+e],r=0;if("number"==typeof t&&(n=t,t=null),t||n)for(r=0;r<o.length;r++){var i=n===o[r].id;if(t===o[r].fn&&i||!t&&i){o.splice(r,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(r=0;r<a.length;r++)0===a[r].indexOf("_on")&&Array.isArray(this[a[r]])&&(this[a[r]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var o=this["_on"+e],r=o.length-1;r>=0;r--)o[r].id&&o[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,o[r].fn),0),o[r].once&&this.off(e,o[r].fn,o[r].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),o._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new i(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=a[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=o._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(t,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*o.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)}};var a={},s=function(e){var t=e._src;if(a[t])return e._duration=a[t].duration,void _(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),o=new Uint8Array(n.length),r=0;r<n.length;++r)o[r]=n.charCodeAt(r);d(o.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){i.setRequestHeader(t,e._xhr.headers[t])}),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},u(i)}},u=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(a[t._src]=e,_(t,e)):n()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},_=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},l=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(i){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};"function"==typeof e&&e.amd&&e([],function(){return{Howler:o,Howl:r}}),"undefined"!=typeof exports&&(exports.Howler=o,exports.Howl=r),void 0!==t?(t.HowlerGlobal=n,t.Howler=o,t.Howl=r,t.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=n,window.Howler=o,window.Howl=r,window.Sound=i)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,o,r,i){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,o="number"!=typeof o?a[3]:o,r="number"!=typeof r?a[4]:r,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(this._orientation=[e,t,n,o,r,i],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,o,r,i),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action:function(){o.stereo(e,n)}}),o;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0]}for(var i=o._getSoundIds(n),a=0;a<i.length;a++){var s=o._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,r),"spatial"===r?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",s._id)}}return o},Howl.prototype.pos=function(e,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,o,r)}}),i;if(n="number"!=typeof n?0:n,o="number"!=typeof o?-.5:o,void 0===r){if("number"!=typeof e)return i._pos;i._pos=[e,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,o],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setPosition(e,n,o)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(e,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,o,r)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,o="number"!=typeof o?i._orientation[2]:o,void 0===r){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,o],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,o)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,o,r=arguments;if(!this._webAudio)return this;if(0===r.length)return this._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(o=this._soundById(parseInt(r[0],10)))?o._pannerAttr:this._pannerAttr;e=r[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:this._panningModel})}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var i=this._getSoundIds(n),a=0;a<i.length;a++)if(o=this._soundById(i[a])){var s=o._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel};var u=o._panner;u?(u.coneInnerAngle=s.coneInnerAngle,u.coneOuterAngle=s.coneOuterAngle,u.coneOuterGain=s.coneOuterGain,u.distanceModel=s.distanceModel,u.maxDistance=s.maxDistance,u.refDistance=s.refDistance,u.rolloffFactor=s.rolloffFactor,u.panningModel=s.panningModel):(o._pos||(o._pos=this._pos||[0,0,-.5]),t(o,"spatial"))}return this},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}();
},{}],"TAPd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,e,n=d(require("./load-data")),a=d(require("enter-view")),r=c(require("d3-svg-annotation")),o=d(require("./utils/is-mobile.js")),l=d(require("./utils/truncate")),s=d(require("howler"));function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function c(t){if(t&&t.__esModule)return t;var e=i();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}}return n.default=t,e&&e.set(t,n),n}function d(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){p(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f,m,y,x,h,v,b,k,_,A,w,M,P,L,B,O,j,S,W,z,D,N,C,T,F,G,I,K=0,E=o.default.any(),H=[],J={},Y=["Proclaimers, The|||I'm Gonna Be","Dr. Dre|||Nuthin' But A G Thang"],q=["BLACKstreet|||No Diggity"],R=["Ace Of Base|||The Sign"],Z=["mean","Will Smith|||Wild Wild West","Paula Abdul|||Opposites Attract","Jennifer Lopez|||If You Had My Love","Backstreet Boys, The|||Quit Playing Games","Coolio|||Gangsta's Paradise","House Of Pain|||Jump Around","Whitney Houston|||I Will Always Love You","R. Kelly|||I Believe I Can Fly","Sir Mix-A-Lot|||Baby Got Back","Los Del Rio|||Macarena","Dr. Dre|||Nuthin' But A G Thang","Notorious B.I.G., The|||Hypnotize","Phil Collins|||Do You Remember?","Crash Test Dummies|||Mmm Mmm Mmm Mmm","Bell Biv DeVoe|||Poison","Color Me Badd|||All 4 Love","Boyz II Men|||Motownphilly","Warren G|||Regulate","Next|||Too Close","K-Ci and JoJo|||All My Life","Bone Thugs N Harmony|||Tha Crossroads","Savage Garden|||Truly Madly Deeply","Bryan Adams|||Everything I Do I Do It For You"],Q=["#000","#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#a6761d","#e7298a","#7570b3","#1b9e77","#d95f02","#1b9e77","#d95f02","#7570b3","#e7298a","#a6761d","#66a61e","#1f78b4","#1b9e77","#7570b3","#1b9e77","#d95f02","#a6761d","#66a61e"],V=["Will Smith|||Wild Wild West","Paula Abdul|||Opposites Attract","Jennifer Lopez|||If You Had My Love","Backstreet Boys, The|||Quit Playing Games","mean"],U=["Coolio|||Gangsta's Paradise","House Of Pain|||Jump Around","Whitney Houston|||I Will Always Love You","R. Kelly|||I Believe I Can Fly","Sir Mix-A-Lot|||Baby Got Back","Los Del Rio|||Macarena","mean"],X=["Next|||Too Close","K-Ci and JoJo|||All My Life","Bone Thugs N Harmony|||Tha Crossroads","Savage Garden|||Truly Madly Deeply","mean"],$=300,tt="btn-millennial-order",et={left:50,right:30,top:60,bottom:60};function nt(t){var e;return t<0?e=Math.abs(t):0===t?e="Born":t>0&&(e=-Math.abs(t)),e}function at(t){return t.replace(/[\W_]+/g,"_").toLowerCase()}function rt(t){var e={};return e.yMin=d3.min(t,function(t){return d3.min(t.values,function(t){return t.recognition})}),e.xMin=d3.min(t,function(t){return d3.min(t.values,function(t){return t.generation})}),e.yMax=d3.max(t,function(t){return d3.max(t.values,function(t){return t.recognition})}),e.xMax=d3.max(t,function(t){return d3.max(t.values,function(t){return t.generation})}),e}function ot(){d3.select(this).attr("id")}function lt(){for(var t=0;t<m.length;t++)H[m[t].artist_song]=new Howl({src:["".concat(m[t].song_url,".mp3")]});for(var e=[{artist_song:"no-diggity",song_url:"https://p.scdn.co/mp3-preview/d887520d295cec271b8396b4c131f5f55348c3a3"},{artist_song:"the-sign",song_url:"https://p.scdn.co/mp3-preview/304efabb42448c99202a7659e43b502a6324d981"},{artist_song:"wild-wild-west",song_url:"https://p.scdn.co/mp3-preview/3adf0f00d728e3ab23c7dd167dbaedfdcd2ef6fe"}],n=0;n<e.length;n++)H[e[n].artist_song]=new Howl({src:["".concat(e[n].song_url,".mp3")]})}function st(){d3.selectAll("div.song-example").on("click",function(t){if(Object.keys(H).forEach(function(t){return H[t].stop()}),t.key===y)return H[t.key].stop(),void(y=null);H[t.key].play(),y=t.key}),d3.selectAll("g.lollipop-song-g").on("click",function(t){if(Object.keys(H).forEach(function(t){return H[t].stop()}),t.artist_song===y)return H[t.artist_song].stop(),void(y=null);H[t.artist_song].play(),y=t.artist_song}),d3.selectAll(".howler-icon").on("click",function(t,e,n){var a=n[e].getAttribute("data-attribute");if(Object.keys(H).forEach(function(t){return H[t].stop()}),a===y)return H[a].stop(),void(y=null);H[a].play(),y=a})}function it(){d3.xml("assets/images/sound.svg").then(function(t){d3.selectAll(".howler-icon").append("span").attr("class","sound-icon-span").nodes().forEach(function(e){return e.append(t.documentElement.cloneNode(!0))})}),h=d3.select("svg.chart__proclaimers-dre"),k=d3.select("svg.chart__no-diggity"),A=d3.select("svg.chart__ace-of-base"),M=d3.select("svg.chart__scroll"),W=d3.select("svg.chart__mean-recognition"),T=d3.select("svg.chart__lollipop"),(I=d3.selectAll(".btn-lollipop")).on("click",ot),x=d3.scaleOrdinal().domain(Z).range(Q)}function ct(){d3.select("svg.line-chart").selectAll("g").remove(),d3.select("svg.chart__no-diggity").selectAll("g").remove(),d3.select("svg.chart__ace-of-base").selectAll("g").remove(),d3.select("svg.chart__mean-recognition").selectAll("g").remove(),d3.selectAll("div.chart-contents").select("svg").selectAll("g").remove(),d3.selectAll("div.song-examples").selectAll("div.song-example").remove(),d3.select("svg.chart__lollipop").selectAll("g").remove()}function dt(){ct(),t=window.innerWidth,e=window.innerHeight,t<550&&(et.left=50),d3.selectAll(".story-step").style("height","".concat(e,"px")),bt()}function ut(t,e,n){var a=r.annotationLabel;return r.annotation().editMode(!1).notePadding(20).type(a).accessors({x:function(e){return t(e.generation)},y:function(t){return e(t.recognition)}}).annotations(n)}function gt(){(0,a.default)({selector:".lollipop-g",enter:function(t){d3.select("header").classed("out-of-dom",!0)},exit:function(t){d3.select("header").classed("out-of-dom",!1)},progress:function(t,e){},offset:1,once:!1})}function pt(e){var n,a,r=[{note:{label:"Dr. Dre - Nuthin' But A G Thang",bgPadding:5},data:{generation:E?1993:1998,recognition:E?.5:.35},className:"dre-anno"},{note:{label:"The Proclaimers - I'm Gonna Be",bgPadding:5},data:{generation:E?1995:1998,recognition:.94137931},className:"proclaimers-anno"}],o=Math.min(t,800)-et.left-et.right,l=E?o-et.top-et.bottom:.6*o-et.top-et.bottom;h.attr("width",o+et.left+et.right).attr("height",l+et.top+et.bottom).attr("class","line-chart"),v=h.append("g").attr("class","chart proclaimers-dre-g").attr("transform","translate(".concat(et.left,",").concat(et.top,")"));var s=e.filter(function(t){return Y.includes(t.key)}).map(function(t){return g({},t,{values:t.values.map(function(t){return g({},t,{generation:+t.generation+1993})})})}),i=rt(s);n=d3.scaleLinear().domain([i.xMin,i.xMax]).range([0,o]),a=d3.scaleLinear().domain([0,1]).range([l,0]);var c=d3.line().curve(d3.curveBasis).x(function(t){return n(t.generation)}).y(function(t){return a(t.recognition)}),d=E?5:10;v.append("g").attr("transform","translate(0,".concat(l,")")).attr("class","axis x proclaimers-dre").call(d3.axisBottom(n).tickFormat(d3.format("")).ticks(d)),v.selectAll(".x.axis").selectAll("g.tick").select("text").attr("class",function(t){return"class"}).text(function(t){return t}),v.append("g").attr("class","axis y proclaimers-dre").call(d3.axisLeft(a).tickSize(-o).tickFormat(d3.format(".0%")).ticks(5)),v.select(".y").selectAll(".tick").select("text").attr("transform","translate(-10,0)"),v.append("text").attr("y",0).attr("x",0).attr("dy","1em").attr("class","label-axis").style("text-anchor","middle").attr("transform","translate(".concat(o/2,",").concat(l+40,")")).text("Birth year"),v.selectAll("g.song-g").data(s).join("g").attr("class",function(t){return"song-g ".concat(at(t.key))}).append("path").attr("class","line proclaimers-dre").attr("d",function(t){return c(t.values)});var u=ut(n,a,r);v.append("g").attr("class","annotation-group").call(u),v.select(".annotation-group").clone("deep"),v.selectAll(".annotation-group").classed("background-fill",function(t,e){return 0==e});var p=v.append("g").attr("class","labels-axis-y");p.append("text").attr("y",-40).attr("x",0).attr("dx",0).attr("class","label-axis label-axis-y-bg").style("text-anchor","start").attr("transform","translate(-34,0)").selectAll("tspan").data(["% of People","Who Know","Song"]).enter().append("tspan").text(function(t){return t}).attr("dy",function(t,e){return"1.1em"}).attr("x",-10),p.append("text").attr("y",-40).attr("x",0).attr("dx",0).attr("class","label-axis label-axis-y").style("text-anchor","start").attr("transform","translate(-34,0)").selectAll("tspan").data(["% of People","Who Know","Song"]).enter().append("tspan").text(function(t){return t}).attr("dy",function(t,e){return"1.1em"}).attr("x",-10)}function ft(){var e,n,a=Math.min(t,800)-et.left-et.right,r=E?a-et.top-et.bottom:.6*a-et.top-et.bottom,o=(d3.select("section.lede").style("padding-left").split("px")[0],d3.select("section.lede").style("padding-right").split("px")[0],f.filter(function(t){return q.includes(t.key)}).map(function(t){return g({},t,{values:t.values.map(function(t){return g({},t,{generation:+t.generation+1996})})})}));k.attr("width",a+et.left+et.right).attr("height",r+et.top+et.bottom),_=k.append("g").attr("class","chart no-diggity-g").attr("transform","translate(".concat(et.left,",").concat(et.top,")"));var l=rt(o);e=d3.scaleLinear().domain([l.xMin,l.xMax]).range([0,a]),n=d3.scaleLinear().domain([0,l.yMax]).range([r,0]);var s=d3.line().curve(d3.curveCardinal).x(function(t){return e(t.generation)}).y(function(t){return n(t.recognition)}),i=E?4:8;_.append("g").attr("transform","translate(0,".concat(r,")")).attr("class","axis x no-diggity").call(d3.axisBottom(e).tickFormat(d3.format("")).ticks(i)),_.append("g").attr("class","axis y no-digity").call(d3.axisLeft(n).tickSize(-a).tickFormat(d3.format(".0%")).ticks(5)),_.select(".y").selectAll(".tick").select("text").attr("transform","translate(-10,0)"),_.append("text").attr("y",0).attr("x",0).attr("dy","1em").attr("class","label-axis").style("text-anchor","middle").attr("transform","translate(".concat(a/2,",").concat(r+40,")")).text("Birth Year");var c=_.selectAll("g.song-g").data(o).join("g").attr("class",function(t){return"song-g ".concat(at(t.key))});c.selectAll("circle.song-year").data(function(t){return t.values}).join("circle").attr("class",function(t){return"".concat(at(t.artist_song)," song-year-circles")}).attr("cx",function(t){return e(t.generation)}).attr("cy",function(t){return n(t.recognition)}).attr("r",5),c.append("path").attr("class","line no-diggity").attr("d",function(t){return s(t.values)});var d=ut(e,n,[{note:{title:"13-year-olds",label:"at moment of No Diggity's release",bgPadding:E?0:20},data:{generation:1983,recognition:.8644067797},className:"show-bg",dy:E?r/3:r/7},{note:{title:"5-year-olds",label:"at the time of its release still recognize it today",bgPadding:E?2:20},data:{generation:1991,recognition:.8679245283},className:"show-bg note-five-yr-old",dy:r/4},{note:{title:"Born",label:"when song was released",bgPadding:E?0:20},data:{generation:1996,recognition:.5526315789},className:"show-bg",dy:E?5:r/6}]);_.append("g").attr("class","annotation-group").call(d);var u=_.append("g").attr("class","labels-axis-y");u.append("text").attr("y",-40).attr("x",0).attr("dx",0).attr("class","label-axis label-axis-y-bg").style("text-anchor","start").attr("transform","translate(-34,0)").selectAll("tspan").data(["% of People","Who Know","Song"]).enter().append("tspan").text(function(t){return t}).attr("dy",function(t,e){return"1.1em"}).attr("x",-10),u.append("text").attr("y",-40).attr("x",0).attr("dx",0).attr("class","label-axis label-axis-y").style("text-anchor","start").attr("transform","translate(-34,0)").selectAll("tspan").data(["% of People","Who Know","Song"]).enter().append("tspan").text(function(t){return t}).attr("dy",function(t,e){return"1.1em"}).attr("x",-10)}function mt(e){var n,a,r=Math.min(t,800)-et.left-et.right,o=E?r-et.top-et.bottom:.6*r-et.top-et.bottom;A.attr("width",r+et.left+et.right).attr("height",o+et.top+et.bottom),w=A.append("g").attr("class","chart ace-of-base-g").attr("transform","translate(".concat(et.left,",").concat(et.top,")"));var l=e.filter(function(t){return R.includes(t.key)}),s=rt(l);n=d3.scaleLinear().domain([s.xMin,s.xMax]).range([0,r]),a=d3.scaleLinear().domain([0,s.yMax]).range([o,0]);var i=d3.line().curve(d3.curveCardinal).x(function(t){return n(t.generation)}).y(function(t){return a(t.recognition)}),c=E?5:10;w.append("g").attr("transform","translate(0,".concat(o,")")).attr("class","axis x ace-of-base").call(d3.axisBottom(n).tickFormat(d3.format("")).ticks(c)),w.selectAll(".x.axis").selectAll("g.tick").select("text").attr("class",function(t){return"class"}).text(function(t){return nt(t)}),w.selectAll(".x.axis").selectAll("g.tick").select("text").text(function(t){return nt(t)}).attr("text-anchor",function(t,e,n){return 0===e?"middle":10===e?"end":void 0}).each(function(t,e,n){0===e&&d3.select(n[e]).append("tspan").text("years old").attr("dy","1em").attr("x","0"),10===e&&d3.select(n[e]).append("tspan").text("years old").attr("dy","1em").attr("x",-1)}),w.append("g").attr("class","axis y ace-of-base").call(d3.axisLeft(a).tickSize(-r).tickFormat(d3.format(".0%")).ticks(5)),w.select(".y").selectAll(".tick").select("text").attr("transform","translate(-10,0)"),w.append("text").attr("y",0).attr("x",0).attr("dy","1em").attr("class","label-axis").style("text-anchor","middle").attr("transform","translate(".concat(r/2,",").concat(o+40,")")).text("Age when song was released");var d=w.selectAll("g.song-g").data(l).join("g").attr("class",function(t){return"song-g ".concat(at(t.key))});d.selectAll("circle.song-year").data(function(t){return t.values}).join("circle").attr("class",function(t){return"".concat(at(t.artist_song)," song-year-circles")}).attr("cx",function(t){return n(t.generation)}).attr("cy",function(t){return a(t.recognition)}).attr("r",5),d.append("path").attr("class","line ace-of-base").attr("d",function(t){return i(t.values)});var u=w.append("g").attr("class","labels-axis-y");u.append("text").attr("y",-40).attr("x",0).attr("dx",0).attr("class","label-axis label-axis-y-bg").style("text-anchor","start").attr("transform","translate(-34,0)").selectAll("tspan").data(["% of People","Who Know","Song"]).enter().append("tspan").text(function(t){return t}).attr("dy",function(t,e){return"1.1em"}).attr("x",-10),u.append("text").attr("y",-40).attr("x",0).attr("dx",0).attr("class","label-axis label-axis-y").style("text-anchor","start").attr("transform","translate(-34,0)").selectAll("tspan").data(["% of People","Who Know","Song"]).enter().append("tspan").text(function(t){return t}).attr("dy",function(t,e){return"1.1em"}).attr("x",-10)}function yt(e,n,a){var r,o,l,s,i=n,c=Math.min(t,800)-et.left-et.right,d=E?c-et.top-et.bottom:.6*c-et.top-et.bottom,u=a,g=e.filter(function(t){return u.includes(t.key)}).sort(function(t,e){return"mean"===t.key?-1:1}),p=d3.select("svg.chart__".concat(i,"-songs")),f=p.append("g");p.attr("width",c+et.left+et.right).attr("height",d+et.top+et.bottom),f.attr("class","chart ".concat(i,"-g")).attr("transform","translate(".concat(et.left,",").concat(et.top,")"));var m=rt(g);r=d3.scaleLinear().domain([m.xMin,m.xMax]).range([0,c]),o=d3.scaleLinear().domain([0,m.yMax]).range([d,0]);var y=d3.line().curve(d3.curveCardinal).x(function(t){return r(t.generation)}).y(function(t){return o(t.recognition)}),x=E?5:10;f.append("g").attr("transform","translate(0,".concat(d,")")).attr("class","axis x ".concat(i)).call(d3.axisBottom(r).tickFormat(d3.format("")).ticks(x)),f.selectAll(".x.axis").selectAll("g.tick").select("text").text(function(t){return nt(t)}).attr("text-anchor",function(t,e,n){return 0===e?"middle":12===e?"end":void 0}).each(function(t,e,n){0===e&&d3.select(n[e]).append("tspan").text("years old").attr("dy","1em").attr("x","0"),12===e&&d3.select(n[e]).append("tspan").text("years old").attr("dy","1em").attr("x",-1)}),f.append("g").attr("class","axis y ".concat(i)).call(d3.axisLeft(o).tickSize(-c).tickFormat(d3.format(".0%")).ticks(5)),f.append("text").attr("y",0).attr("x",0).attr("dy","1em").attr("class","label-axis").style("text-anchor","middle").attr("transform","translate(".concat(c/2,",").concat(d+40,")")).text("Age when song was released");var h=(l=f.selectAll("g.song-g").data(g).join("g").attr("class",function(t){return"song-g ".concat(at(t.key))})).append("path").attr("class","background-line ".concat(i,"-recognition")).attr("d",function(t){return y(t.values)});s=l.append("path").attr("class","line ".concat(i,"-recognition")).attr("d",function(t){return y(t.values)}).style("opacity",function(t){return"mean"===t.key?1:.07}).style("stroke",function(t){return"mean"===t.key?"#52370c":"#383838"}),f.select(".annotation-note-content").attr("transform","translate(0,0)");var v=d3.select(".song-examples.".concat(i,"-songs"));v.style("margin-top","".concat(et.top,"px"));var b=v.selectAll("div.song-example").data(g.filter(function(t){return"mean"!==t.key})).join("div").attr("class","song-example"),k=b.append("p").attr("class","song-example__title");d3.xml("assets/images/sound.svg").then(function(t){d3.select("figure.".concat(i,"-songs")).select("div.song-examples").selectAll(".song-example").selectAll("p.song-example__title").append("span").attr("class","sound-icon-span").nodes().forEach(function(e){return e.append(t.documentElement.cloneNode(!0))})}).then(function(){k.append("span").attr("class","song-example__title-text").text(function(t){return t.key.split("|||")[1]})});b.append("p").attr("class","song-example__artist").text(function(t){return t.key.split("|||")[0]});var _=f.append("g").attr("class","labels-axis-y");_.append("text").attr("y",-40).attr("x",0).attr("dx",0).attr("class","label-axis label-axis-y-bg").style("text-anchor","start").attr("transform","translate(-34,0)").selectAll("tspan").data(["% of People","Who Know","Song"]).enter().append("tspan").text(function(t){return t}).attr("dy",function(t,e){return"1.1em"}).attr("x",-10),_.append("text").attr("y",-40).attr("x",0).attr("dx",0).attr("class","label-axis label-axis-y").style("text-anchor","start").attr("transform","translate(-34,0)").selectAll("tspan").data(["% of People","Who Know","Song"]).enter().append("tspan").text(function(t){return t}).attr("dy",function(t,e){return"1.1em"}).attr("x",-10);var A=d3.voronoi(),w=d3.merge(g.map(function(t){return t.values}));A.x(function(t){return r(t.generation)}).y(function(t){return o(t.recognition)}).extent([[-et.left,-et.top],[c-et.left,d-et.bottom]]);f.append("g").attr("class","g-voronoi").selectAll("path").data(A.polygons(w)).enter().append("path").attr("d",function(t){return t?"M"+t.join("L")+"Z":null}).on("mouseenter",function(t){console.log(t.data);var e=["mean",t.data.artist_song];h.classed("background-line-highlight",function(t){return!!e.includes(t.key)}),s.style("opacity",function(t){return e.includes(t.key)?1:.07}).style("stroke",function(e){return e.key===t.data.artist_song&&"mean"!==t.data.artist_song?"#0a563f":"mean"===e.key?"#52370c":"#383838"}),b.classed("selected-songs",function(e){return e.key===t.data.artist_song})}).on("mouseleave",function(t){s.style("opacity",function(t){return"mean"===t.key?1:.07}).style("stroke",function(t){return"mean"===t.key?"#52370c":"#383838"}),b.classed("selected-songs",!1)}).attr("transform","translate(".concat(et.left,",").concat(et.bottom,")"));b.on("mouseenter",function(t){var e=["mean",t.key];s.style("opacity",function(t){return e.includes(t.key)?1:.07}).style("stroke",function(e){return e.key===t.key?"#0a563f":"mean"===e.key?"#52370c":"#383838"}),b.classed("selected-songs",function(e){return e.key===t.key})}).on("mouseleave",function(t){s.style("opacity",function(t){return"mean"===t.key?1:.07}).style("stroke",function(t){return"mean"===t.key?"#52370c":"#383838"}),b.classed("selected-songs",!1)});var M=d;E||v.style("height","".concat(M,"px"))}function xt(n){var a,r,o=.6*e,l=E?.95:.75,s=(d3.select("section.scroll").style("padding-left").split("px")[0],d3.select("section.scroll").style("padding-right").split("px")[0],Math.min(t,800)-et.left-et.right),i=(1-l)*t/2,c=n.filter(function(t){return"mean"===t.key||t.values[0].recognition>=.9}).sort(function(t,e){return"mean"===t.key?-1:1}),d=c.map(function(t){var e={},n={};n.label=t.key.replace("|||"," - "),n.bgPadding={right:10,bottom:0},n.key=t.key,n.wrap=E?10:$,n.padding=0;var a={},r=t.values.filter(function(t){return t.recognition>0}),o=d3.max(r,function(t){return t.generation}),l=at(t.key);return a.recognition=r[r.length-1].recognition,a.generation=o,e.className=l+" invisible",e.key=t.key,e.note=n,e.data=a,e}),u=E?s:t;W.attr("width",u).attr("height",e),z=W.append("g").attr("class","chart mean-g").attr("transform","translate(".concat(i,",").concat(et.top,")"));var g=rt(c);a=d3.scaleLinear().domain([g.xMin,g.xMax]).range([0,s-et.left-et.right]),r=d3.scaleLinear().domain([0,g.yMax]).range([o-et.top-et.bottom,0]);var p=d3.line().curve(d3.curveCardinal).x(function(t){return a(t.generation)}).y(function(t){return r(t.recognition)}),f=E?5:10;z.append("g").attr("class","axis x scroll").call(d3.axisBottom(a).tickFormat(d3.format("")).ticks(f)).attr("transform","translate(".concat(et.left,",").concat(o-et.bottom,")")),z.selectAll(".x.axis").selectAll("g.tick").select("text").attr("class",function(t){return"class"}).text(function(t){return nt(t)}).attr("text-anchor",function(t,e,n){return 0===e?"middle":12===e?"end":void 0}).each(function(t,e,n){0===e&&d3.select(n[e]).append("tspan").text("years old").attr("dy","1em").attr("x","0"),12===e&&d3.select(n[e]).append("tspan").text("years old").attr("dy","1em").attr("x",-1)}),z.append("g").attr("class","axis y scroll").call(d3.axisLeft(r).tickSize(-s+et.left+et.right).tickFormat(d3.format(".0%")).ticks(5)).attr("transform","translate(".concat(et.left,",").concat(et.bottom,")")),z.append("text").attr("y",0).attr("x",0).attr("dy","1em").attr("class","label-axis").style("text-anchor","middle").attr("transform","translate(".concat(E?et.left+s/3:et.left+s/2,",").concat(o+et.bottom/2,")")).text("Age when song was released"),D=z.selectAll("g.song-g").data(c).join("g").attr("class",function(t){return"song-g ".concat(at(t.key))}).attr("transform","translate(".concat(et.left,",").concat(et.top,")")),C=D.append("path").attr("class","background-line mean-recognition").attr("d",function(t){return p(t.values)}),N=D.append("path").attr("class","line mean-recognition").attr("d",function(t){return p(t.values)}).style("opacity",function(t){return"mean"===t.key?1:.07}).style("stroke",function(t){return"mean"===t.key?"#52370c":"#383838"});var m=ut(a,r,[{note:{title:"% of People Who Know Song",bgPadding:20,wrap:E?300:0},data:{generation:-15,recognition:1},className:"show-bg"}]);z.append("g").attr("class","annotation-y-axis").call(m),z.select(".annotation-y-axis").attr("transform","translate(".concat(E?0:-et.left,",",0,")")),E&&z.select(".annotation-y-axis").select(".annotation-note-content").attr("transform","translate(0,0)");var y=ut(a,r,d),x=ut(a,r,d);z.append("g").attr("class","annotation-group-mean-background").call(x),z.append("g").attr("class","annotation-group-mean").call(y),z.select(".annotation-group-mean").attr("transform","translate(".concat(0,",0)")),z.select(".annotation-group-mean").selectAll("g.annotation.label").classed("invisible",function(t){return"mean"!==t.note.label}),z.select(".annotation-group-mean-background").selectAll("g.annotation.label").classed("invisible",function(t){return"mean"!==t.note.label});var h=d3.voronoi(),v=d3.merge(c.map(function(t){return t.values}));h.x(function(t){return a(t.generation)}).y(function(t){return r(t.recognition)}).extent([[0,0],[s,o]]);z.append("g").attr("class","g-voronoi").selectAll("path").data(h.polygons(v)).enter().append("path").attr("d",function(t){return t?"M"+t.join("L")+"Z":null}).on("mouseenter",function(t){var e=at(t.data.artist_song);z.select("g.".concat(e)).select("path.background-line").classed("background-line-highlight",!0),z.select("g.".concat(e)).select("path.line").style("stroke",function(t){return"mean"===t.key?"#52370c":"#2C9BD9"}).style("opacity",1),z.select(".annotation-group-mean").selectAll("g.annotation.label").classed("invisible",function(t){return at(t.note.label)!==e}),z.select(".annotation-group-mean-background").selectAll("g.annotation.label").classed("invisible",function(t){return at(t.note.label)!==e})}).on("mouseleave",function(t){z.selectAll(".song-g").select("path.background-line").classed("background-line-highlight",!1),N.style("opacity",function(t){return"mean"===t.key?1:.07}).style("stroke",function(t){return"mean"===t.key?"#52370c":"#383838"}),z.select(".annotation-group-mean-background").selectAll("g.annotation.label").classed("invisible",function(t){return"mean"!==t.note.label}),z.select(".annotation-group-mean").selectAll("g.annotation.label").classed("invisible",function(t){return"mean"!==t.note.label})})}function ht(n){var a,r,o=.6*e,l=.75*t,s=.25*t/2,i=n.filter(function(t){return Z.includes(t.key)||t.values[0].recognition>=.95}),c=i.map(function(t){var e={},n={};n.label=t.key.replace("|||"," - "),n.bgPadding=20,n.key=t.key,n.wrap=$,n.padding=4;var a={},r=t.values.filter(function(t){return t.recognition>0}),o=d3.max(r,function(t){return t.generation}),l=at(t.key);return a.recognition=r[r.length-1].recognition,a.generation=o,e.className=l+" invisible",e.key=t.key,e.note=n,e.data=a,e});console.log(c),M.attr("width",t).attr("height",e),P=M.append("g").attr("class","chart scroll-g").attr("transform","translate(".concat(s,",").concat(et.top,")"));var d=rt(i);console.log(d),a=d3.scaleLinear().domain([d.xMin,d.xMax]).range([0,l-et.left-et.right]),r=d3.scaleLinear().domain([0,d.yMax]).range([o-et.top-et.bottom,0]);var u=d3.line().curve(d3.curveCardinal).x(function(t){return a(t.generation)}).y(function(t){return r(t.recognition)});P.append("g").attr("class","axis x scroll").call(d3.axisBottom(a).tickFormat(d3.format(""))).attr("transform","translate(".concat(et.left,",").concat(o-et.bottom,")")),P.append("g").attr("class","axis y scroll").call(d3.axisLeft(r).tickSize(-l+et.left+et.right).tickFormat(d3.format(".0%")).ticks(5)).attr("transform","translate(".concat(et.left,",").concat(et.bottom,")")),P.append("text").attr("y",0).attr("x",0).attr("dy","1em").attr("class","label-axis").style("text-anchor","middle").attr("transform","translate(".concat(et.left+l/2,",").concat(o+et.bottom/2,")")).text("Age when song was released"),L=P.selectAll("g.song-g").data(i).join("g").attr("class",function(t){return"song-g ".concat(at(t.key))}).attr("transform","translate(".concat(et.left,",").concat(et.top,")")),B=L.append("path").attr("class","line scroll").attr("d",function(t){return u(t.values)}).style("opacity",0),j=L.append("g").attr("class","label-g scoll").style("opacity",0);var g=ut(a,r,c);P.append("g").attr("class","annotation-group-scroll").call(g),P.select(".annotation-group-scroll").attr("transform","translate(".concat(et.left+$/2,",0)")),P.selectAll("g.label").select("text.annotation-note-label").style("fill",function(t){return x(t.note.key)});var p=ut(a,r,[{note:{title:"% of People Who Know Song",bgPadding:20},data:{generation:-15,recognition:1},className:"show-bg"}]);P.append("g").attr("class","annotation-y-axis").call(p),P.select(".annotation-y-axis").attr("transform","translate(".concat(-et.left,",",0,")"))}function vt(e){var n,a=e.map(function(t){return g({},t,{mean_gen_z_recognition:+t.mean_gen_z_recognition,mean_millennial_recognition:+t.mean_millennial_recognition})}).sort(function(t,e){return e.mean_gen_z_recognition-t.mean_gen_z_recognition});a.forEach(function(t){var e=t.artist_song,n=m.filter(function(t){return t.artist_song===e})[0];t.song_url=n?n.song_url:""}),console.log(a);var o=a.length,s=60*o+et.top+et.bottom,i=(d3.select(".chart-container__lollipop").style("padding-left").split("px")[0],d3.select(".chart-container__lollipop").style("padding-right").split("px")[0],Math.min(t,800)-et.left-et.right),c=et.left;n=d3.scaleLinear().domain([0,1]).range([i,4.5*c]),T.attr("width",i+et.left+et.right).attr("height",s+et.top+et.bottom),(F=T.append("g").attr("class","chart lollipop-g").attr("transform","translate(".concat(et.left,",",0,")"))).append("g").attr("class","axis x lollipop-g").call(d3.axisTop(n).tickFormat(d3.format(".0%")).tickSize(-s).ticks(5)).attr("transform","translate(".concat(0,",",0,")")),(G=F.selectAll("g.lollipop-song-g").data(a).join("g").attr("class","lollipop-song-g")).attr("transform",function(t,e){return"translate(0,".concat(et.top+60*e,")")}),G.append("text").attr("x",0).attr("y",0).attr("class","lollipop-song-title").text(function(t){return E?(0,l.default)({text:t.artist_song.split("|||")[1],chars:13,ellipses:!0}):t.artist_song.split("|||")[1]}),d3.xml("assets/images/sound.svg").then(function(t){d3.select("svg.chart__lollipop").selectAll("g.lollipop-song-g").append("g").attr("class","sound-icon-g").attr("transform","translate(2, 9)").nodes().forEach(function(e){return e.append(t.documentElement.cloneNode(!0))})}),G.append("text").attr("x",24).attr("y",20).attr("class","lollipop-song-artist").text(function(t){return E?(0,l.default)({text:t.artist_song.split("|||")[0],chars:13,ellipses:!0}):t.artist_song.split("|||")[0]});G.append("rect").attr("x",function(t){return t.mean_millennial_recognition>t.mean_gen_z_recognition?n(t.mean_millennial_recognition):n(t.mean_gen_z_recognition)}).attr("y",-3).attr("class","lollipop-x-axis-base-difference").attr("width",function(t){return Math.abs(n(t.mean_millennial_recognition)-n(t.mean_gen_z_recognition))}).attr("height","".concat(6,"px")).attr("fill","url(#grad1)"),G.append("circle").attr("class","circle-millennial").attr("r","".concat(9)).attr("cx",function(t){return n(t.mean_millennial_recognition)}),G.append("circle").attr("class","circle-gen-z").attr("r","".concat(9)).attr("cx",function(t){return n(t.mean_gen_z_recognition)}),F=T.append("g").attr("class","chart lollipop-g").attr("transform","translate(".concat(et.left,",").concat(et.top/2,")"));var d=d3.select(".lollipop-x-axis-svg");d.attr("height",40).attr("width",i+et.left+et.right),d.append("g").attr("class","axis x fixed lollipop-g line-chart").attr("transform","translate(".concat(et.left,",").concat(et.top/2,")")).call(d3.axisTop(n).tickFormat(d3.format(".0%")).tickSize(0).ticks(5));var u=[{note:{title:"Millennials",bgPadding:2},data:{recognition:.9918509070294785},className:"lollipop-annotation-millennials",y:et.top,dy:-et.top/2,dx:-et.left/2},{note:{title:"Gen Z",bgPadding:2},y:et.top,data:{recognition:.9619603211477253},className:"lollipop-annotation-gen-z",dy:-et.top/2,dx:et.left}],p=r.annotationLabel,f=r.annotation().editMode(!1).notePadding(20).type(p).accessors({x:function(t){return n(t.recognition)}}).annotations(u);F.append("g").attr("class","annotation-circles").call(f)}function bt(){(0,n.default)(["time_series_90s_d3.csv","lollipop_chart_data.csv","song_previews.csv"]).then(function(t){m=t[2],(f=d3.nest().key(function(t){return t.artist_song.trim()}).entries(t[0].filter(function(t){return t.recognition>0})).map(function(t){return g({},t,{values:t.values.map(function(t){var e={};return e.artist_song=t.artist_song,e.generation=+t.generation,e.recognition=+t.recognition,e.formatted_generation=nt(+t.generation),e}).sort(function(t,e){return t.generation-e.generation})})})).forEach(function(t){var e=t.key.trim(),n=m.filter(function(t){return t.artist_song===e})[0];t.song_url=n?n.song_url:""}),console.log(f),pt(f),ft(f),mt(f),xt(f),yt(f,"underperforming",V),yt(f,"overperforming",U),yt(f,"millennial-only",X)}).then(gt).then(lt).then(st).catch(console.error)}function kt(){it(),dt()}var _t={init:kt,resize:dt};exports.default=_t;
},{"./load-data":"xZJw","enter-view":"RZIL","d3-svg-annotation":"CZZQ","./utils/is-mobile.js":"WEtf","./utils/truncate":"tR9U","howler":"I3zv"}],"v9Q8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womens Pockets are Inferior"}],t=null;function n(e,t){var n=document.getElementsByTagName("script")[0],o=document.createElement("script");return o.src=e,o.async=!0,n.parentNode.insertBefore(o,n),t&&"function"==typeof t&&(o.onload=t),o}function o(t){var n=new XMLHttpRequest,o=Date.now(),r="https://pudding.cool/assets/data/stories.json?v=".concat(o);n.open("GET",r,!0),n.onload=function(){if(n.status>=200&&n.status<400){var o=JSON.parse(n.responseText);t(o)}else t(e)},n.onerror=function(){return t(e)},n.send()}function r(e){return"\n\t<a class='footer-recirc__article' href='https://pudding.cool/".concat(e.url,"' target='_blank' rel='noopener'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/").concat(e.image,".jpg' alt='").concat(e.hed,"'>\n\t\t<p class='article__headline'>").concat(e.hed,"</p>\n\t</a>\n\t")}function a(){var e=window.location.href,n=t.filter(function(t){return!e.includes(t.url)}).slice(0,4).map(r).join("");d3.select(".pudding-footer .footer-recirc__articles").html(n)}function s(){o(function(e){t=e,a()})}var c={init:s};exports.default=c;
},{}],"epB2":[function(require,module,exports) {
"use strict";var e=r(require("lodash.debounce")),i=r(require("./utils/is-mobile")),s=r(require("./utils/link-fix")),t=r(require("./graphic")),l=r(require("./footer"));function r(e){return e&&e.__esModule?e:{default:e}}var d=d3.select("body"),a=0;function u(){var e=d.node().offsetWidth;a!==e&&(a=e,t.default.resize())}function n(){if(d.select("header").classed("is-sticky")){var e=d.select(".header__menu"),i=d.select(".header__toggle");i.on("click",function(){var s=e.classed("is-visible");e.classed("is-visible",!s),i.classed("is-visible",!s)})}}function c(){(0,s.default)(),d.classed("is-mobile",i.default.any()),window.addEventListener("resize",(0,e.default)(u,150)),n(),t.default.init(),l.default.init()}c();
},{"lodash.debounce":"or4r","./utils/is-mobile":"WEtf","./utils/link-fix":"U9xJ","./graphic":"TAPd","./footer":"v9Q8"}]},{},["epB2"], null)